/*! For license information please see 144.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[144],{3144:(a,t,n)=>{n.r(t),n.d(t,{default:()=>h});function s(){var a,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",e=n.toStringTag||"@@toStringTag";function o(n,s,i,e){var o=s&&s.prototype instanceof d?s:d,l=Object.create(o.prototype);return r(l,"_invoke",function(n,s,r){var i,e,o,d=0,l=r||[],p=!1,m={p:0,n:0,v:a,a:h,f:h.bind(a,4),d:function(t,n){return i=t,e=0,o=a,m.n=n,c}};function h(n,s){for(e=n,o=s,t=0;!p&&d&&!r&&t<l.length;t++){var r,i=l[t],h=m.p,v=i[2];n>3?(r=v===s)&&(o=i[(e=i[4])?5:(e=3,3)],i[4]=i[5]=a):i[0]<=h&&((r=n<2&&h<i[1])?(e=0,m.v=s,m.n=i[1]):h<v&&(r=n<3||i[0]>s||s>v)&&(i[4]=n,i[5]=s,m.n=v,e=0))}if(r||n>1)return c;throw p=!0,s}return function(r,l,v){if(d>1)throw TypeError("Generator is already running");for(p&&1===l&&h(l,v),e=l,o=v;(t=e<2?a:o)||!p;){i||(e?e<3?(e>1&&(m.n=-1),h(e,o)):m.n=o:m.v=o);try{if(d=2,i){if(e||(r="next"),t=i[r]){if(!(t=t.call(i,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,e<2&&(e=0)}else 1===e&&(t=i.return)&&t.call(i),e<2&&(o=TypeError("The iterator does not provide a '"+r+"' method"),e=1);i=a}else if((t=(p=m.n<0)?o:n.call(s,m))!==c)break}catch(t){i=a,e=1,o=t}finally{d=1}}return{value:t,done:p}}}(n,i,e),!0),l}var c={};function d(){}function l(){}function p(){}t=Object.getPrototypeOf;var m=[][i]?t(t([][i]())):(r(t={},i,function(){return this}),t),h=p.prototype=d.prototype=Object.create(m);function v(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,p):(a.__proto__=p,r(a,e,"GeneratorFunction")),a.prototype=Object.create(h),a}return l.prototype=p,r(h,"constructor",p),r(p,"constructor",l),l.displayName="GeneratorFunction",r(p,e,"GeneratorFunction"),r(h),r(h,e,"Generator"),r(h,i,function(){return this}),r(h,"toString",function(){return"[object Generator]"}),(s=function(){return{w:o,m:v}})()}function r(a,t,n,s){var i=Object.defineProperty;try{i({},"",{})}catch(a){i=0}r=function(a,t,n,s){if(t)i?i(a,t,{value:n,enumerable:!s,configurable:!s,writable:!s}):a[t]=n;else{var e=function(t,n){r(a,t,function(a){return this._invoke(t,n,a)})};e("next",0),e("throw",1),e("return",2)}},r(a,t,n,s)}function i(a,t,n,s,r,i,e){try{var o=a[i](e),c=o.value}catch(a){return void n(a)}o.done?t(c):Promise.resolve(c).then(s,r)}function e(a){return function(){var t=this,n=arguments;return new Promise(function(s,r){var e=a.apply(t,n);function o(a){i(e,s,r,o,c,"next",a)}function c(a){i(e,s,r,o,c,"throw",a)}o(void 0)})}}const o={name:"ChampionshipDetail",data:function(){return{championship:null,matchdays:[],loading:!1}},computed:{championshipId:function(){return this.$route.params.id},canEdit:function(){var a;return(null===(a=window.Laravel)||void 0===a||null===(a=a.user)||void 0===a?void 0:a.authenticated)||!1}},mounted:function(){this.loadChampionship(),this.loadChampionshipMatchdays()},methods:{loadChampionship:function(){var a=this;return e(s().m(function t(){var n,r,i;return s().w(function(t){for(;;)switch(t.n){case 0:return a.loading=!0,t.p=1,t.n=2,fetch("/api/championships/".concat(a.championshipId));case 2:if((n=t.v).ok){t.n=3;break}throw new Error("Campeonato no encontrado");case 3:return t.n=4,n.json();case 4:r=t.v,a.championship=r,t.n=6;break;case 5:t.p=5,i=t.v,console.error("Error loading championship:",i),a.championship=null;case 6:return t.p=6,a.loading=!1,t.f(6);case 7:return t.a(2)}},t,null,[[1,5,6,7]])}))()},loadChampionshipMatchdays:function(){var a=this;return e(s().m(function t(){var n,r,i;return s().w(function(t){for(;;)switch(t.n){case 0:return t.p=0,t.n=1,fetch("/api/championships/".concat(a.championshipId,"/matchdays"));case 1:if(!(n=t.v).ok){t.n=3;break}return t.n=2,n.json();case 2:r=t.v,a.matchdays=r.data||r;case 3:t.n=5;break;case 4:t.p=4,i=t.v,console.error("Error loading championship matchdays:",i);case 5:return t.a(2)}},t,null,[[0,4]])}))()},getTypeLabel:function(a){return{local:"Local",regional:"Regional",national:"Nacional",international:"Internacional"}[a]||"Desconocido"},getStatusClass:function(a){return{draft:"badge badge-secondary",planned:"badge badge-info",registration_open:"badge badge-success",registration_closed:"badge badge-warning",active:"badge badge-primary",completed:"badge badge-dark",cancelled:"badge badge-danger"}[a]||"badge badge-secondary"},getStatusLabel:function(a){return{draft:"Borrador",planned:"Planificado",registration_open:"Inscripciones Abiertas",registration_closed:"Inscripciones Cerradas",active:"En Curso",completed:"Finalizado",cancelled:"Cancelado"}[a]||"Desconocido"},getMatchdayStatusClass:function(a){return{scheduled:"badge badge-info",active:"badge badge-primary",completed:"badge badge-success",cancelled:"badge badge-danger"}[a]||"badge badge-secondary"},getMatchdayStatusLabel:function(a){return{scheduled:"Programada",active:"En Curso",completed:"Completada",cancelled:"Cancelada"}[a]||"Desconocido"},getDuration:function(){if(!this.championship||!this.championship.start_date||!this.championship.end_date)return"No definida";var a=new Date(this.championship.start_date),t=new Date(this.championship.end_date),n=Math.abs(t-a),s=Math.ceil(n/864e5);if(1===s)return"1 día";if(s<30)return"".concat(s," días");if(s<365){var r=Math.round(s/30);return"".concat(r," ").concat(1===r?"mes":"meses")}var i=Math.round(s/365);return"".concat(i," ").concat(1===i?"año":"años")},getProgress:function(){if(!this.championship||!this.championship.start_date||!this.championship.end_date)return 0;var a=new Date,t=new Date(this.championship.start_date),n=new Date(this.championship.end_date);if(a<t)return 0;if(a>n)return 100;var s=n-t,r=a-t;return Math.round(r/s*100)},exportParticipants:function(){var a=this;return e(s().m(function t(){var n,r,i,e,o;return s().w(function(t){for(;;)switch(t.n){case 0:return t.p=0,t.n=1,fetch("/api/championships/".concat(a.championshipId,"/participants/export"));case 1:if(!(n=t.v).ok){t.n=3;break}return t.n=2,n.blob();case 2:r=t.v,i=window.URL.createObjectURL(r),(e=document.createElement("a")).style.display="none",e.href=i,e.download="participantes_".concat(a.championship.name,".xlsx"),document.body.appendChild(e),e.click(),window.URL.revokeObjectURL(i),a.showNotification("Exportación completada","success"),t.n=4;break;case 3:throw new Error("Error al exportar");case 4:t.n=6;break;case 5:t.p=5,o=t.v,console.error("Error exporting participants:",o),a.showNotification("Error al exportar participantes","error");case 6:return t.a(2)}},t,null,[[0,5]])}))()},formatDate:function(a){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!a)return"No disponible";try{var n=new Date(a),s={year:"numeric",month:"long",day:"numeric"};return t&&(s.hour="2-digit",s.minute="2-digit"),n.toLocaleDateString("es-ES",s)}catch(a){return"Fecha inválida"}},showNotification:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";console.log("".concat(t.toUpperCase(),": ").concat(a)),"error"===t&&alert("Error: "+a)}}},c=o;var d=n(5072),l=n.n(d),p=n(5769),m={insert:"head",singleton:!1};l()(p.A,m);p.A.locals;const h=(0,n(4486).A)(c,function(){var a=this,t=a._self._c;return t("div",{staticClass:"championship-detail"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[a._m(0),a._v(" "),t("div",{staticClass:"card-tools"},[t("router-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:{name:"championships"}}},[t("i",{staticClass:"fas fa-arrow-left mr-1"}),a._v("\n                    Volver a Campeonatos\n                ")]),a._v(" "),a.canEdit?t("router-link",{staticClass:"btn btn-primary btn-sm ml-2",attrs:{to:{name:"championships.edit",params:{id:a.championshipId}}}},[t("i",{staticClass:"fas fa-edit mr-1"}),a._v("\n                    Editar\n                ")]):a._e()],1)]),a._v(" "),a.loading?t("div",{staticClass:"card-body text-center"},[a._m(1),a._v(" "),t("p",{staticClass:"mt-3"},[a._v("Cargando información del campeonato...")])]):a.championship?t("div",{staticClass:"card-body"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-8"},[t("div",{staticClass:"d-flex justify-content-between align-items-start mb-3"},[t("h4",{staticClass:"mb-0"},[a._v(a._s(a.championship.name))]),a._v(" "),t("span",{class:a.getStatusClass(a.championship.status)},[a._v("\n                            "+a._s(a.getStatusLabel(a.championship.status))+"\n                        ")])]),a._v(" "),a.championship.description?t("div",{staticClass:"mb-4"},[t("h6",{staticClass:"text-muted mb-2"},[a._v("Descripción")]),a._v(" "),t("p",{staticClass:"text-justify"},[a._v(a._s(a.championship.description))])]):a._e(),a._v(" "),t("div",{staticClass:"row mb-4"},[t("div",{staticClass:"col-md-6"},[t("h6",{staticClass:"text-muted mb-2"},[a._v("Información General")]),a._v(" "),t("p",{staticClass:"mb-1"},[t("i",{staticClass:"fas fa-calendar text-primary mr-2"}),a._v(" "),t("strong",[a._v("Año:")]),a._v(" "+a._s(a.championship.year)+"\n                            ")]),a._v(" "),t("p",{staticClass:"mb-1"},[t("i",{staticClass:"fas fa-leaf text-primary mr-2"}),a._v(" "),t("strong",[a._v("Temporada:")]),a._v(" "+a._s(a.championship.season||"No especificada")+"\n                            ")]),a._v(" "),t("p",{staticClass:"mb-1"},[t("i",{staticClass:"fas fa-globe text-primary mr-2"}),a._v(" "),t("strong",[a._v("Tipo:")]),a._v(" "+a._s(a.getTypeLabel(a.championship.type))+"\n                            ")]),a._v(" "),t("p",{staticClass:"mb-0"},[t("i",{staticClass:"fas fa-eye text-primary mr-2"}),a._v(" "),t("strong",[a._v("Visibilidad:")]),a._v(" "+a._s(a.championship.is_public?"Público":"Privado")+"\n                            ")])]),a._v(" "),t("div",{staticClass:"col-md-6"},[t("h6",{staticClass:"text-muted mb-2"},[a._v("Fechas Importantes")]),a._v(" "),a.championship.start_date?t("p",{staticClass:"mb-1"},[t("i",{staticClass:"fas fa-play text-success mr-2"}),a._v(" "),t("strong",[a._v("Inicio:")]),a._v(" "+a._s(a.formatDate(a.championship.start_date,!1))+"\n                            ")]):a._e(),a._v(" "),a.championship.end_date?t("p",{staticClass:"mb-1"},[t("i",{staticClass:"fas fa-stop text-danger mr-2"}),a._v(" "),t("strong",[a._v("Finalización:")]),a._v(" "+a._s(a.formatDate(a.championship.end_date,!1))+"\n                            ")]):a._e(),a._v(" "),a.championship.registration_start?t("p",{staticClass:"mb-1"},[t("i",{staticClass:"fas fa-user-plus text-info mr-2"}),a._v(" "),t("strong",[a._v("Inscripciones desde:")]),a._v(" "+a._s(a.formatDate(a.championship.registration_start,!1))+"\n                            ")]):a._e(),a._v(" "),a.championship.registration_end?t("p",{staticClass:"mb-0"},[t("i",{staticClass:"fas fa-user-times text-warning mr-2"}),a._v(" "),t("strong",[a._v("Inscripciones hasta:")]),a._v(" "+a._s(a.formatDate(a.championship.registration_end,!1))+"\n                            ")]):a._e()])]),a._v(" "),t("div",{staticClass:"row mb-4"},[t("div",{staticClass:"col-md-12"},[t("h6",{staticClass:"text-muted mb-2"},[a._v("Estadísticas")]),a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-3 col-6"},[t("div",{staticClass:"info-box bg-primary"},[t("div",{staticClass:"info-box-content"},[t("span",{staticClass:"info-box-text text-white"},[a._v("Participantes")]),a._v(" "),t("span",{staticClass:"info-box-number text-white"},[a._v(a._s(a.championship.participants_count||0))])])])]),a._v(" "),t("div",{staticClass:"col-md-3 col-6"},[t("div",{staticClass:"info-box bg-success"},[t("div",{staticClass:"info-box-content"},[t("span",{staticClass:"info-box-text text-white"},[a._v("Jornadas")]),a._v(" "),t("span",{staticClass:"info-box-number text-white"},[a._v(a._s(a.championship.matchdays_count||0))])])])]),a._v(" "),t("div",{staticClass:"col-md-3 col-6"},[t("div",{staticClass:"info-box bg-info"},[t("div",{staticClass:"info-box-content"},[t("span",{staticClass:"info-box-text text-white"},[a._v("Categorías")]),a._v(" "),t("span",{staticClass:"info-box-number text-white"},[a._v(a._s(a.championship.categories_count||0))])])])]),a._v(" "),t("div",{staticClass:"col-md-3 col-6"},[t("div",{staticClass:"info-box bg-warning"},[t("div",{staticClass:"info-box-content"},[t("span",{staticClass:"info-box-text text-white"},[a._v("Clubes")]),a._v(" "),t("span",{staticClass:"info-box-number text-white"},[a._v(a._s(a.championship.clubs_count||0))])])])])])])]),a._v(" "),t("div",{staticClass:"mb-4"},[t("h6",{staticClass:"text-muted mb-2"},[a._v("Configuraciones")]),a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("p",{staticClass:"mb-1"},[t("i",{staticClass:"fas fa-user-plus text-primary mr-2"}),a._v(" "),t("strong",[a._v("Inscripción externa:")]),a._v(" "),t("span",{class:a.championship.allow_external_registration?"text-success":"text-danger"},[a._v("\n                                        "+a._s(a.championship.allow_external_registration?"Permitida":"No permitida")+"\n                                    ")])])])])]),a._v(" "),t("div",{staticClass:"row text-muted small"},[t("div",{staticClass:"col-md-6"},[t("p",{staticClass:"mb-1"},[t("i",{staticClass:"fas fa-plus-circle mr-1"}),a._v("\n                                Creado: "+a._s(a.formatDate(a.championship.created_at))+"\n                            ")])]),a._v(" "),t("div",{staticClass:"col-md-6"},[t("p",{staticClass:"mb-1"},[t("i",{staticClass:"fas fa-edit mr-1"}),a._v("\n                                Última actualización: "+a._s(a.formatDate(a.championship.updated_at))+"\n                            ")])])])]),a._v(" "),t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"card bg-light"},[a._m(2),a._v(" "),t("div",{staticClass:"card-body"},[t("dl",{staticClass:"row small"},[t("dt",{staticClass:"col-sm-5"},[a._v("Nombre:")]),a._v(" "),t("dd",{staticClass:"col-sm-7"},[a._v(a._s(a.championship.name))]),a._v(" "),t("dt",{staticClass:"col-sm-5"},[a._v("Año:")]),a._v(" "),t("dd",{staticClass:"col-sm-7"},[a._v(a._s(a.championship.year))]),a._v(" "),t("dt",{staticClass:"col-sm-5"},[a._v("Tipo:")]),a._v(" "),t("dd",{staticClass:"col-sm-7"},[a._v(a._s(a.getTypeLabel(a.championship.type)))]),a._v(" "),t("dt",{staticClass:"col-sm-5"},[a._v("Estado:")]),a._v(" "),t("dd",{staticClass:"col-sm-7"},[t("span",{class:a.getStatusClass(a.championship.status)},[a._v("\n                                        "+a._s(a.getStatusLabel(a.championship.status))+"\n                                    ")])]),a._v(" "),t("dt",{staticClass:"col-sm-5"},[a._v("Duración:")]),a._v(" "),t("dd",{staticClass:"col-sm-7"},[a._v(a._s(a.getDuration()))])])])]),a._v(" "),a.canEdit?t("div",{staticClass:"card mt-3"},[a._m(3),a._v(" "),t("div",{staticClass:"card-body"},[t("div",{staticClass:"d-grid gap-2"},[t("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"championships.edit",params:{id:a.championshipId}}}},[t("i",{staticClass:"fas fa-edit mr-1"}),a._v("\n                                    Editar Campeonato\n                                ")]),a._v(" "),t("router-link",{staticClass:"btn btn-outline-primary btn-sm",attrs:{to:{name:"matchdays",query:{championship:a.championshipId}}}},[t("i",{staticClass:"fas fa-calendar mr-1"}),a._v("\n                                    Ver Jornadas\n                                ")]),a._v(" "),a.championship.participants_count>0?t("button",{staticClass:"btn btn-outline-success btn-sm",on:{click:a.exportParticipants}},[t("i",{staticClass:"fas fa-download mr-1"}),a._v("\n                                    Exportar Participantes\n                                ")]):a._e()],1)])]):a._e(),a._v(" "),a.championship.start_date&&a.championship.end_date?t("div",{staticClass:"card mt-3"},[a._m(4),a._v(" "),t("div",{staticClass:"card-body"},[t("div",{staticClass:"progress mb-2"},[t("div",{staticClass:"progress-bar",style:"width: ".concat(a.getProgress(),"%"),attrs:{role:"progressbar","aria-valuenow":a.getProgress(),"aria-valuemin":"0","aria-valuemax":"100"}})]),a._v(" "),t("small",{staticClass:"text-muted"},[a._v(a._s(a.getProgress())+"% completado")])])]):a._e()])]),a._v(" "),a.matchdays&&a.matchdays.length>0?t("div",{staticClass:"mt-5"},[t("h5",{staticClass:"mb-3"},[t("i",{staticClass:"fas fa-calendar mr-2"}),a._v("\n                    Jornadas del Campeonato ("+a._s(a.matchdays.length)+")\n                ")]),a._v(" "),t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-sm table-hover"},[a._m(5),a._v(" "),t("tbody",a._l(a.matchdays,function(n){return t("tr",{key:n.id},[t("td",[a._v(a._s(n.name||"Jornada ".concat(n.round_number)))]),a._v(" "),t("td",[a._v(a._s(a.formatDate(n.date,!1)))]),a._v(" "),t("td",[a._v(a._s(n.location||"Por definir"))]),a._v(" "),t("td",[t("span",{class:a.getMatchdayStatusClass(n.status)},[a._v("\n                                        "+a._s(a.getMatchdayStatusLabel(n.status))+"\n                                    ")])]),a._v(" "),t("td",[a._v(a._s(n.participants_count||0))]),a._v(" "),t("td",[t("router-link",{staticClass:"btn btn-sm btn-outline-primary",attrs:{to:{name:"matchdays.show",params:{id:n.id}}}},[t("i",{staticClass:"fas fa-eye"})])],1)])}),0)])])]):a._e()]):t("div",{staticClass:"card-body text-center"},[t("i",{staticClass:"fas fa-exclamation-triangle fa-3x text-warning mb-3"}),a._v(" "),t("h4",{staticClass:"text-muted"},[a._v("Campeonato no encontrado")]),a._v(" "),t("p",{staticClass:"text-muted"},[a._v("El campeonato que buscas no existe o ha sido eliminado.")]),a._v(" "),t("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"championships"}}},[t("i",{staticClass:"fas fa-arrow-left mr-1"}),a._v("\n                Volver a Campeonatos\n            ")])],1)])])},[function(){var a=this._self._c;return a("h3",{staticClass:"card-title"},[a("i",{staticClass:"fas fa-trophy mr-2"}),this._v("\n                Detalles del Campeonato\n            ")])},function(){var a=this._self._c;return a("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[this._v("Cargando...")])])},function(){var a=this._self._c;return a("div",{staticClass:"card-header"},[a("h6",{staticClass:"card-title mb-0"},[a("i",{staticClass:"fas fa-info-circle mr-1"}),this._v("\n                                Resumen del Campeonato\n                            ")])])},function(){var a=this._self._c;return a("div",{staticClass:"card-header"},[a("h6",{staticClass:"card-title mb-0"},[a("i",{staticClass:"fas fa-tools mr-1"}),this._v("\n                                Acciones\n                            ")])])},function(){var a=this._self._c;return a("div",{staticClass:"card-header"},[a("h6",{staticClass:"card-title mb-0"},[a("i",{staticClass:"fas fa-chart-line mr-1"}),this._v("\n                                Progreso\n                            ")])])},function(){var a=this,t=a._self._c;return t("thead",{staticClass:"thead-light"},[t("tr",[t("th",[a._v("Jornada")]),a._v(" "),t("th",[a._v("Fecha")]),a._v(" "),t("th",[a._v("Ubicación")]),a._v(" "),t("th",[a._v("Estado")]),a._v(" "),t("th",[a._v("Participantes")]),a._v(" "),t("th",[a._v("Acciones")])])])}],!1,null,"ed5f55e4",null).exports},5769:(a,t,n)=>{n.d(t,{A:()=>o});var s=n(4991),r=n.n(s),i=n(6314),e=n.n(i)()(r());e.push([a.id,".championship-detail[data-v-ed5f55e4]{margin:0 auto;max-width:1200px}.info-box[data-v-ed5f55e4]{border-radius:.25rem;margin-bottom:.5rem;padding:.75rem}.info-box-content[data-v-ed5f55e4]{text-align:center}.info-box-text[data-v-ed5f55e4]{font-size:.75rem;font-weight:600}.info-box-number[data-v-ed5f55e4]{font-size:1.25rem;font-weight:700}.text-justify[data-v-ed5f55e4]{text-align:justify}.d-grid[data-v-ed5f55e4]{display:grid}.gap-2[data-v-ed5f55e4]{gap:.5rem}.small[data-v-ed5f55e4]{font-size:.875rem}@media (max-width:768px){.card-tools[data-v-ed5f55e4]{align-items:stretch;flex-direction:column}.card-tools .btn[data-v-ed5f55e4]{margin-bottom:.25rem}}","",{version:3,sources:["webpack://./resources/js/components/forms/ChampionshipDetail.vue"],names:[],mappings:"AAogBA,sCAEA,aAAA,CADA,gBAEA,CAEA,2BACA,oBAAA,CAEA,mBAAA,CADA,cAEA,CAEA,mCACA,iBACA,CAEA,gCACA,gBAAA,CACA,eACA,CAEA,kCACA,iBAAA,CACA,eACA,CAEA,+BACA,kBACA,CAEA,yBACA,YACA,CAEA,wBACA,SACA,CAEA,wBACA,iBACA,CAEA,yBACA,6BAEA,mBAAA,CADA,qBAEA,CAEA,kCACA,oBACA,CACA",sourcesContent:['<template>\r\n    <div class="championship-detail">\r\n        <div class="card">\r\n            <div class="card-header">\r\n                <h3 class="card-title">\r\n                    <i class="fas fa-trophy mr-2"></i>\r\n                    Detalles del Campeonato\r\n                </h3>\r\n                <div class="card-tools">\r\n                    <router-link :to="{ name: \'championships\' }" class="btn btn-outline-secondary btn-sm">\r\n                        <i class="fas fa-arrow-left mr-1"></i>\r\n                        Volver a Campeonatos\r\n                    </router-link>\r\n                    <router-link \r\n                        v-if="canEdit" \r\n                        :to="{ name: \'championships.edit\', params: { id: championshipId } }" \r\n                        class="btn btn-primary btn-sm ml-2"\r\n                    >\r\n                        <i class="fas fa-edit mr-1"></i>\r\n                        Editar\r\n                    </router-link>\r\n                </div>\r\n            </div>\r\n\r\n            <div v-if="loading" class="card-body text-center">\r\n                <div class="spinner-border text-primary" role="status">\r\n                    <span class="sr-only">Cargando...</span>\r\n                </div>\r\n                <p class="mt-3">Cargando información del campeonato...</p>\r\n            </div>\r\n\r\n            <div v-else-if="championship" class="card-body">\r\n                <div class="row">\r\n                    \x3c!-- Información principal --\x3e\r\n                    <div class="col-md-8">\r\n                        <div class="d-flex justify-content-between align-items-start mb-3">\r\n                            <h4 class="mb-0">{{ championship.name }}</h4>\r\n                            <span :class="getStatusClass(championship.status)">\r\n                                {{ getStatusLabel(championship.status) }}\r\n                            </span>\r\n                        </div>\r\n                        \r\n                        <div v-if="championship.description" class="mb-4">\r\n                            <h6 class="text-muted mb-2">Descripción</h6>\r\n                            <p class="text-justify">{{ championship.description }}</p>\r\n                        </div>\r\n\r\n                        <div class="row mb-4">\r\n                            <div class="col-md-6">\r\n                                <h6 class="text-muted mb-2">Información General</h6>\r\n                                <p class="mb-1">\r\n                                    <i class="fas fa-calendar text-primary mr-2"></i>\r\n                                    <strong>Año:</strong> {{ championship.year }}\r\n                                </p>\r\n                                <p class="mb-1">\r\n                                    <i class="fas fa-leaf text-primary mr-2"></i>\r\n                                    <strong>Temporada:</strong> {{ championship.season || \'No especificada\' }}\r\n                                </p>\r\n                                <p class="mb-1">\r\n                                    <i class="fas fa-globe text-primary mr-2"></i>\r\n                                    <strong>Tipo:</strong> {{ getTypeLabel(championship.type) }}\r\n                                </p>\r\n                                <p class="mb-0">\r\n                                    <i class="fas fa-eye text-primary mr-2"></i>\r\n                                    <strong>Visibilidad:</strong> {{ championship.is_public ? \'Público\' : \'Privado\' }}\r\n                                </p>\r\n                            </div>\r\n                            <div class="col-md-6">\r\n                                <h6 class="text-muted mb-2">Fechas Importantes</h6>\r\n                                <p v-if="championship.start_date" class="mb-1">\r\n                                    <i class="fas fa-play text-success mr-2"></i>\r\n                                    <strong>Inicio:</strong> {{ formatDate(championship.start_date, false) }}\r\n                                </p>\r\n                                <p v-if="championship.end_date" class="mb-1">\r\n                                    <i class="fas fa-stop text-danger mr-2"></i>\r\n                                    <strong>Finalización:</strong> {{ formatDate(championship.end_date, false) }}\r\n                                </p>\r\n                                <p v-if="championship.registration_start" class="mb-1">\r\n                                    <i class="fas fa-user-plus text-info mr-2"></i>\r\n                                    <strong>Inscripciones desde:</strong> {{ formatDate(championship.registration_start, false) }}\r\n                                </p>\r\n                                <p v-if="championship.registration_end" class="mb-0">\r\n                                    <i class="fas fa-user-times text-warning mr-2"></i>\r\n                                    <strong>Inscripciones hasta:</strong> {{ formatDate(championship.registration_end, false) }}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="row mb-4">\r\n                            <div class="col-md-12">\r\n                                <h6 class="text-muted mb-2">Estadísticas</h6>\r\n                                <div class="row">\r\n                                    <div class="col-md-3 col-6">\r\n                                        <div class="info-box bg-primary">\r\n                                            <div class="info-box-content">\r\n                                                <span class="info-box-text text-white">Participantes</span>\r\n                                                <span class="info-box-number text-white">{{ championship.participants_count || 0 }}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-3 col-6">\r\n                                        <div class="info-box bg-success">\r\n                                            <div class="info-box-content">\r\n                                                <span class="info-box-text text-white">Jornadas</span>\r\n                                                <span class="info-box-number text-white">{{ championship.matchdays_count || 0 }}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-3 col-6">\r\n                                        <div class="info-box bg-info">\r\n                                            <div class="info-box-content">\r\n                                                <span class="info-box-text text-white">Categorías</span>\r\n                                                <span class="info-box-number text-white">{{ championship.categories_count || 0 }}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-3 col-6">\r\n                                        <div class="info-box bg-warning">\r\n                                            <div class="info-box-content">\r\n                                                <span class="info-box-text text-white">Clubes</span>\r\n                                                <span class="info-box-number text-white">{{ championship.clubs_count || 0 }}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \x3c!-- Configuraciones --\x3e\r\n                        <div class="mb-4">\r\n                            <h6 class="text-muted mb-2">Configuraciones</h6>\r\n                            <div class="row">\r\n                                <div class="col-md-6">\r\n                                    <p class="mb-1">\r\n                                        <i class="fas fa-user-plus text-primary mr-2"></i>\r\n                                        <strong>Inscripción externa:</strong> \r\n                                        <span :class="championship.allow_external_registration ? \'text-success\' : \'text-danger\'">\r\n                                            {{ championship.allow_external_registration ? \'Permitida\' : \'No permitida\' }}\r\n                                        </span>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \x3c!-- Fechas de registro --\x3e\r\n                        <div class="row text-muted small">\r\n                            <div class="col-md-6">\r\n                                <p class="mb-1">\r\n                                    <i class="fas fa-plus-circle mr-1"></i>\r\n                                    Creado: {{ formatDate(championship.created_at) }}\r\n                                </p>\r\n                            </div>\r\n                            <div class="col-md-6">\r\n                                <p class="mb-1">\r\n                                    <i class="fas fa-edit mr-1"></i>\r\n                                    Última actualización: {{ formatDate(championship.updated_at) }}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    \x3c!-- Panel lateral --\x3e\r\n                    <div class="col-md-4">\r\n                        <div class="card bg-light">\r\n                            <div class="card-header">\r\n                                <h6 class="card-title mb-0">\r\n                                    <i class="fas fa-info-circle mr-1"></i>\r\n                                    Resumen del Campeonato\r\n                                </h6>\r\n                            </div>\r\n                            <div class="card-body">\r\n                                <dl class="row small">\r\n                                    <dt class="col-sm-5">Nombre:</dt>\r\n                                    <dd class="col-sm-7">{{ championship.name }}</dd>\r\n                                    \r\n                                    <dt class="col-sm-5">Año:</dt>\r\n                                    <dd class="col-sm-7">{{ championship.year }}</dd>\r\n                                    \r\n                                    <dt class="col-sm-5">Tipo:</dt>\r\n                                    <dd class="col-sm-7">{{ getTypeLabel(championship.type) }}</dd>\r\n                                    \r\n                                    <dt class="col-sm-5">Estado:</dt>\r\n                                    <dd class="col-sm-7">\r\n                                        <span :class="getStatusClass(championship.status)">\r\n                                            {{ getStatusLabel(championship.status) }}\r\n                                        </span>\r\n                                    </dd>\r\n                                    \r\n                                    <dt class="col-sm-5">Duración:</dt>\r\n                                    <dd class="col-sm-7">{{ getDuration() }}</dd>\r\n                                </dl>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \x3c!-- Acciones rápidas --\x3e\r\n                        <div v-if="canEdit" class="card mt-3">\r\n                            <div class="card-header">\r\n                                <h6 class="card-title mb-0">\r\n                                    <i class="fas fa-tools mr-1"></i>\r\n                                    Acciones\r\n                                </h6>\r\n                            </div>\r\n                            <div class="card-body">\r\n                                <div class="d-grid gap-2">\r\n                                    <router-link \r\n                                        :to="{ name: \'championships.edit\', params: { id: championshipId } }" \r\n                                        class="btn btn-primary btn-sm"\r\n                                    >\r\n                                        <i class="fas fa-edit mr-1"></i>\r\n                                        Editar Campeonato\r\n                                    </router-link>\r\n                                    <router-link \r\n                                        :to="{ name: \'matchdays\', query: { championship: championshipId } }" \r\n                                        class="btn btn-outline-primary btn-sm"\r\n                                    >\r\n                                        <i class="fas fa-calendar mr-1"></i>\r\n                                        Ver Jornadas\r\n                                    </router-link>\r\n                                    <button \r\n                                        v-if="championship.participants_count > 0"\r\n                                        @click="exportParticipants" \r\n                                        class="btn btn-outline-success btn-sm"\r\n                                    >\r\n                                        <i class="fas fa-download mr-1"></i>\r\n                                        Exportar Participantes\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \x3c!-- Progreso del campeonato --\x3e\r\n                        <div v-if="championship.start_date && championship.end_date" class="card mt-3">\r\n                            <div class="card-header">\r\n                                <h6 class="card-title mb-0">\r\n                                    <i class="fas fa-chart-line mr-1"></i>\r\n                                    Progreso\r\n                                </h6>\r\n                            </div>\r\n                            <div class="card-body">\r\n                                <div class="progress mb-2">\r\n                                    <div \r\n                                        class="progress-bar" \r\n                                        role="progressbar" \r\n                                        :style="`width: ${getProgress()}%`"\r\n                                        :aria-valuenow="getProgress()"\r\n                                        aria-valuemin="0" \r\n                                        aria-valuemax="100"\r\n                                    ></div>\r\n                                </div>\r\n                                <small class="text-muted">{{ getProgress() }}% completado</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                \x3c!-- Lista de jornadas (si existen) --\x3e\r\n                <div v-if="matchdays && matchdays.length > 0" class="mt-5">\r\n                    <h5 class="mb-3">\r\n                        <i class="fas fa-calendar mr-2"></i>\r\n                        Jornadas del Campeonato ({{ matchdays.length }})\r\n                    </h5>\r\n                    <div class="table-responsive">\r\n                        <table class="table table-sm table-hover">\r\n                            <thead class="thead-light">\r\n                                <tr>\r\n                                    <th>Jornada</th>\r\n                                    <th>Fecha</th>\r\n                                    <th>Ubicación</th>\r\n                                    <th>Estado</th>\r\n                                    <th>Participantes</th>\r\n                                    <th>Acciones</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for="matchday in matchdays" :key="matchday.id">\r\n                                    <td>{{ matchday.name || `Jornada ${matchday.round_number}` }}</td>\r\n                                    <td>{{ formatDate(matchday.date, false) }}</td>\r\n                                    <td>{{ matchday.location || \'Por definir\' }}</td>\r\n                                    <td>\r\n                                        <span :class="getMatchdayStatusClass(matchday.status)">\r\n                                            {{ getMatchdayStatusLabel(matchday.status) }}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td>{{ matchday.participants_count || 0 }}</td>\r\n                                    <td>\r\n                                        <router-link \r\n                                            :to="{ name: \'matchdays.show\', params: { id: matchday.id } }" \r\n                                            class="btn btn-sm btn-outline-primary"\r\n                                        >\r\n                                            <i class="fas fa-eye"></i>\r\n                                        </router-link>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div v-else class="card-body text-center">\r\n                <i class="fas fa-exclamation-triangle fa-3x text-warning mb-3"></i>\r\n                <h4 class="text-muted">Campeonato no encontrado</h4>\r\n                <p class="text-muted">El campeonato que buscas no existe o ha sido eliminado.</p>\r\n                <router-link :to="{ name: \'championships\' }" class="btn btn-primary">\r\n                    <i class="fas fa-arrow-left mr-1"></i>\r\n                    Volver a Campeonatos\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \'ChampionshipDetail\',\r\n    data() {\r\n        return {\r\n            championship: null,\r\n            matchdays: [],\r\n            loading: false\r\n        };\r\n    },\r\n    computed: {\r\n        championshipId() {\r\n            return this.$route.params.id;\r\n        },\r\n        canEdit() {\r\n            return window.Laravel?.user?.authenticated || false;\r\n        }\r\n    },\r\n    mounted() {\r\n        this.loadChampionship();\r\n        this.loadChampionshipMatchdays();\r\n    },\r\n    methods: {\r\n        async loadChampionship() {\r\n            this.loading = true;\r\n            try {\r\n                const response = await fetch(`/api/championships/${this.championshipId}`);\r\n                if (!response.ok) {\r\n                    throw new Error(\'Campeonato no encontrado\');\r\n                }\r\n                const data = await response.json();\r\n                this.championship = data;\r\n            } catch (error) {\r\n                console.error(\'Error loading championship:\', error);\r\n                this.championship = null;\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        },\r\n\r\n        async loadChampionshipMatchdays() {\r\n            try {\r\n                const response = await fetch(`/api/championships/${this.championshipId}/matchdays`);\r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    this.matchdays = data.data || data;\r\n                }\r\n            } catch (error) {\r\n                console.error(\'Error loading championship matchdays:\', error);\r\n            }\r\n        },\r\n\r\n        getTypeLabel(type) {\r\n            const labels = {\r\n                \'local\': \'Local\',\r\n                \'regional\': \'Regional\',\r\n                \'national\': \'Nacional\',\r\n                \'international\': \'Internacional\'\r\n            };\r\n            return labels[type] || \'Desconocido\';\r\n        },\r\n\r\n        getStatusClass(status) {\r\n            const classes = {\r\n                \'draft\': \'badge badge-secondary\',\r\n                \'planned\': \'badge badge-info\',\r\n                \'registration_open\': \'badge badge-success\',\r\n                \'registration_closed\': \'badge badge-warning\',\r\n                \'active\': \'badge badge-primary\',\r\n                \'completed\': \'badge badge-dark\',\r\n                \'cancelled\': \'badge badge-danger\'\r\n            };\r\n            return classes[status] || \'badge badge-secondary\';\r\n        },\r\n\r\n        getStatusLabel(status) {\r\n            const labels = {\r\n                \'draft\': \'Borrador\',\r\n                \'planned\': \'Planificado\',\r\n                \'registration_open\': \'Inscripciones Abiertas\',\r\n                \'registration_closed\': \'Inscripciones Cerradas\',\r\n                \'active\': \'En Curso\',\r\n                \'completed\': \'Finalizado\',\r\n                \'cancelled\': \'Cancelado\'\r\n            };\r\n            return labels[status] || \'Desconocido\';\r\n        },\r\n\r\n        getMatchdayStatusClass(status) {\r\n            const classes = {\r\n                \'scheduled\': \'badge badge-info\',\r\n                \'active\': \'badge badge-primary\',\r\n                \'completed\': \'badge badge-success\',\r\n                \'cancelled\': \'badge badge-danger\'\r\n            };\r\n            return classes[status] || \'badge badge-secondary\';\r\n        },\r\n\r\n        getMatchdayStatusLabel(status) {\r\n            const labels = {\r\n                \'scheduled\': \'Programada\',\r\n                \'active\': \'En Curso\',\r\n                \'completed\': \'Completada\',\r\n                \'cancelled\': \'Cancelada\'\r\n            };\r\n            return labels[status] || \'Desconocido\';\r\n        },\r\n\r\n        getDuration() {\r\n            if (!this.championship || !this.championship.start_date || !this.championship.end_date) {\r\n                return \'No definida\';\r\n            }\r\n            \r\n            const start = new Date(this.championship.start_date);\r\n            const end = new Date(this.championship.end_date);\r\n            const diffTime = Math.abs(end - start);\r\n            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n            \r\n            if (diffDays === 1) {\r\n                return \'1 día\';\r\n            } else if (diffDays < 30) {\r\n                return `${diffDays} días`;\r\n            } else if (diffDays < 365) {\r\n                const months = Math.round(diffDays / 30);\r\n                return `${months} ${months === 1 ? \'mes\' : \'meses\'}`;\r\n            } else {\r\n                const years = Math.round(diffDays / 365);\r\n                return `${years} ${years === 1 ? \'año\' : \'años\'}`;\r\n            }\r\n        },\r\n\r\n        getProgress() {\r\n            if (!this.championship || !this.championship.start_date || !this.championship.end_date) {\r\n                return 0;\r\n            }\r\n\r\n            const now = new Date();\r\n            const start = new Date(this.championship.start_date);\r\n            const end = new Date(this.championship.end_date);\r\n\r\n            if (now < start) return 0;\r\n            if (now > end) return 100;\r\n\r\n            const total = end - start;\r\n            const current = now - start;\r\n            return Math.round((current / total) * 100);\r\n        },\r\n\r\n        async exportParticipants() {\r\n            try {\r\n                const response = await fetch(`/api/championships/${this.championshipId}/participants/export`);\r\n                \r\n                if (response.ok) {\r\n                    const blob = await response.blob();\r\n                    const url = window.URL.createObjectURL(blob);\r\n                    const a = document.createElement(\'a\');\r\n                    a.style.display = \'none\';\r\n                    a.href = url;\r\n                    a.download = `participantes_${this.championship.name}.xlsx`;\r\n                    document.body.appendChild(a);\r\n                    a.click();\r\n                    window.URL.revokeObjectURL(url);\r\n                    this.showNotification(\'Exportación completada\', \'success\');\r\n                } else {\r\n                    throw new Error(\'Error al exportar\');\r\n                }\r\n            } catch (error) {\r\n                console.error(\'Error exporting participants:\', error);\r\n                this.showNotification(\'Error al exportar participantes\', \'error\');\r\n            }\r\n        },\r\n\r\n        formatDate(dateString, includeTime = true) {\r\n            if (!dateString) return \'No disponible\';\r\n            try {\r\n                const date = new Date(dateString);\r\n                const options = {\r\n                    year: \'numeric\',\r\n                    month: \'long\',\r\n                    day: \'numeric\'\r\n                };\r\n                \r\n                if (includeTime) {\r\n                    options.hour = \'2-digit\';\r\n                    options.minute = \'2-digit\';\r\n                }\r\n                \r\n                return date.toLocaleDateString(\'es-ES\', options);\r\n            } catch (error) {\r\n                return \'Fecha inválida\';\r\n            }\r\n        },\r\n\r\n        showNotification(message, type = \'info\') {\r\n            console.log(`${type.toUpperCase()}: ${message}`);\r\n            if (type === \'error\') {\r\n                alert(\'Error: \' + message);\r\n            }\r\n        }\r\n    }\r\n};\r\n<\/script>\r\n\r\n<style scoped>\r\n.championship-detail {\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.info-box {\r\n    border-radius: 0.25rem;\r\n    padding: 0.75rem;\r\n    margin-bottom: 0.5rem;\r\n}\r\n\r\n.info-box-content {\r\n    text-align: center;\r\n}\r\n\r\n.info-box-text {\r\n    font-size: 0.75rem;\r\n    font-weight: 600;\r\n}\r\n\r\n.info-box-number {\r\n    font-size: 1.25rem;\r\n    font-weight: bold;\r\n}\r\n\r\n.text-justify {\r\n    text-align: justify;\r\n}\r\n\r\n.d-grid {\r\n    display: grid;\r\n}\r\n\r\n.gap-2 {\r\n    gap: 0.5rem;\r\n}\r\n\r\n.small {\r\n    font-size: 0.875rem;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n    .card-tools {\r\n        flex-direction: column;\r\n        align-items: stretch;\r\n    }\r\n    \r\n    .card-tools .btn {\r\n        margin-bottom: 0.25rem;\r\n    }\r\n}\r\n</style>\r\n'],sourceRoot:""}]);const o=e}}]);
//# sourceMappingURL=144.js.map