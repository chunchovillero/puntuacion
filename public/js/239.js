/*! For license information please see 239.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[239],{3044:(t,a,r)=>{r.d(a,{A:()=>o});var n=r(4991),e=r.n(n),s=r(6314),i=r.n(s)()(e());i.push([t.id,".pilot-card[data-v-1eeb756b]{border:2px solid transparent;transition:all .2s ease}.pilot-card[data-v-1eeb756b]:hover{border-color:#007bff;box-shadow:0 2px 8px rgba(0,123,255,.2)}.pilot-card.selected[data-v-1eeb756b]{background-color:#f8fff9;border-color:#28a745;box-shadow:0 2px 8px rgba(40,167,69,.2)}.text-sm[data-v-1eeb756b]{font-size:.875rem}.pilots-list[data-v-1eeb756b]{max-height:400px;overflow-y:auto}.selected-pilot-details .card[data-v-1eeb756b]{border-left:4px solid #28a745}.modal-lg[data-v-1eeb756b]{max-width:800px}.vue-modal-overlay[data-v-1eeb756b]{align-items:center;background:rgba(0,0,0,.4);display:flex;height:100vh;justify-content:center;left:0;position:fixed;top:0;width:100vw;z-index:2000}.vue-modal-dialog[data-v-1eeb756b]{margin:0;max-width:800px;width:100%}","",{version:3,sources:["webpack://./resources/js/components/forms/AddPilotToMatchday.vue"],names:[],mappings:"AAmTA,6BAEA,4BAAA,CADA,uBAEA,CAEA,mCACA,oBAAA,CACA,uCACA,CAEA,sCAEA,wBAAA,CADA,oBAAA,CAEA,uCACA,CAEA,0BACA,iBACA,CAEA,8BACA,gBAAA,CACA,eACA,CAEA,+CACA,6BACA,CAEA,2BACA,eACA,CAGA,oCASA,kBAAA,CAHA,yBAAA,CAEA,YAAA,CAHA,YAAA,CAKA,sBAAA,CAPA,MAAA,CAFA,cAAA,CACA,KAAA,CAEA,WAAA,CAGA,YAIA,CACA,mCACA,QAAA,CACA,eAAA,CACA,UACA",sourcesContent:['<template>\r\n    <div class="add-pilot-modal">\r\n        \x3c!-- Button trigger modal --\x3e\r\n        <button \r\n            type="button" \r\n            class="btn btn-success btn-sm" \r\n            @click="showModal = true"\r\n        >\r\n            <i class="fas fa-user-plus mr-1"></i>\r\n            Agregar Piloto\r\n        </button>\r\n\r\n        \x3c!-- Modal Vue puro --\x3e\r\n        <div v-if="showModal" class="vue-modal-overlay" @click.self="closeModal">\r\n            <div class="modal-dialog modal-lg vue-modal-dialog" role="document">\r\n                <div class="modal-content">\r\n                    <div class="modal-header">\r\n                        <h5 class="modal-title">\r\n                            <i class="fas fa-user-plus mr-2"></i>\r\n                            Agregar Piloto a la Jornada\r\n                        </h5>\r\n                        <button \r\n                            type="button" \r\n                            class="close" \r\n                            @click="closeModal"\r\n                            aria-label="Close"\r\n                        >\r\n                            <span aria-hidden="true">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    \r\n                    <div class="modal-body">\r\n                        \x3c!-- Search form --\x3e\r\n                        <div class="form-group">\r\n                            <label for="pilotSearch">Buscar Piloto</label>\r\n                            <div class="input-group">\r\n                                <input \r\n                                    id="pilotSearch"\r\n                                    v-model="searchTerm" \r\n                                    type="text" \r\n                                    class="form-control"\r\n                                    placeholder="Buscar por nombre o RUT..."\r\n                                    @input="debouncedSearch"\r\n                                    :disabled="loading"\r\n                                >\r\n                                <div class="input-group-append">\r\n                                    <span class="input-group-text">\r\n                                        <i v-if="loading" class="fas fa-spinner fa-spin"></i>\r\n                                        <i v-else class="fas fa-search"></i>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <small class="form-text text-muted">\r\n                                Solo se muestran pilotos activos registrados en el campeonato\r\n                            </small>\r\n                        </div>\r\n\r\n                        \x3c!-- Pilots list --\x3e\r\n                        <div v-if="pilots.length > 0" class="pilots-list">\r\n                            <h6 class="mb-3">Pilotos Disponibles:</h6>\r\n                            <div class="row">\r\n                                <div \r\n                                    v-for="pilot in pilots" \r\n                                    :key="pilot.id" \r\n                                    class="col-md-6 mb-3"\r\n                                >\r\n                                    <div \r\n                                        class="card pilot-card h-100" \r\n                                        :class="{ \'selected\': selectedPilot && selectedPilot.id === pilot.id }"\r\n                                        @click="selectPilot(pilot)"\r\n                                        style="cursor: pointer;"\r\n                                    >\r\n                                        <div class="card-body p-3">\r\n                                            <div class="d-flex align-items-center">\r\n                                                <div class="pilot-info flex-grow-1">\r\n                                                    <h6 class="mb-1">\r\n                                                        {{ pilot.first_name }} {{ pilot.last_name }}\r\n                                                        <small v-if="pilot.nickname" class="text-muted">"{{ pilot.nickname }}"</small>\r\n                                                    </h6>\r\n                                                    <p class="mb-1 text-sm">\r\n                                                        <strong>RUT:</strong> {{ pilot.rut }}\r\n                                                    </p>\r\n                                                    <p class="mb-1 text-sm">\r\n                                                        <strong>Club:</strong> {{ pilot.club ? pilot.club.name : \'Sin club\' }}\r\n                                                    </p>\r\n                                                    <p class="mb-0 text-sm">\r\n                                                        <strong>Categoría:</strong> {{ pilot.category ? pilot.category.name : \'Sin categoría\' }}\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="pilot-select">\r\n                                                    <i \r\n                                                        v-if="selectedPilot && selectedPilot.id === pilot.id" \r\n                                                        class="fas fa-check-circle text-success"\r\n                                                        style="font-size: 1.5rem;"\r\n                                                    ></i>\r\n                                                    <i \r\n                                                        v-else \r\n                                                        class="far fa-circle text-muted"\r\n                                                        style="font-size: 1.5rem;"\r\n                                                    ></i>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \x3c!-- No results --\x3e\r\n                        <div v-else-if="searchTerm && !loading" class="text-center py-4">\r\n                            <i class="fas fa-search text-muted" style="font-size: 3rem;"></i>\r\n                            <p class="mt-3 text-muted">\r\n                                No se encontraron pilotos con el término "{{ searchTerm }}"\r\n                            </p>\r\n                        </div>\r\n\r\n                        \x3c!-- Initial state --\x3e\r\n                        <div v-else-if="!searchTerm" class="text-center py-4">\r\n                            <i class="fas fa-users text-muted" style="font-size: 3rem;"></i>\r\n                            <p class="mt-3 text-muted">\r\n                                Escribe el nombre o RUT del piloto para comenzar la búsqueda\r\n                            </p>\r\n                        </div>\r\n\r\n                        \x3c!-- Selected pilot details --\x3e\r\n                        <div v-if="selectedPilot" class="selected-pilot-details mt-4">\r\n                            <hr>\r\n                            <h6>Piloto Seleccionado:</h6>\r\n                            <div class="card bg-light">\r\n                                <div class="card-body">\r\n                                    <div class="row">\r\n                                        <div class="col-md-8">\r\n                                            <h6>{{ selectedPilot.first_name }} {{ selectedPilot.last_name }}</h6>\r\n                                            <p class="mb-1"><strong>RUT:</strong> {{ selectedPilot.rut }}</p>\r\n                                            <p class="mb-1"><strong>Club:</strong> {{ selectedPilot.club ? selectedPilot.club.name : \'Sin club\' }}</p>\r\n                                            <p class="mb-0"><strong>Categoría:</strong> {{ selectedPilot.category ? selectedPilot.category.name : \'Sin categoría\' }}</p>\r\n                                        </div>\r\n                                        <div class="col-md-4">\r\n                                            <div class="form-group mb-0">\r\n                                                <label for="notes" class="small">Notas (opcional)</label>\r\n                                                <textarea \r\n                                                    id="notes"\r\n                                                    v-model="notes" \r\n                                                    class="form-control form-control-sm"\r\n                                                    rows="3"\r\n                                                    placeholder="Observaciones sobre la participación..."\r\n                                                ></textarea>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class="modal-footer">\r\n                        <button \r\n                            type="button" \r\n                            class="btn btn-secondary" \r\n                            @click="closeModal"\r\n                        >\r\n                            Cancelar\r\n                        </button>\r\n                        <button \r\n                            type="button" \r\n                            class="btn btn-success" \r\n                            @click="addPilot"\r\n                            :disabled="!selectedPilot || submitting"\r\n                        >\r\n                            <i v-if="submitting" class="fas fa-spinner fa-spin mr-1"></i>\r\n                            <i v-else class="fas fa-user-plus mr-1"></i>\r\n                            {{ submitting ? \'Agregando...\' : \'Agregar Piloto\' }}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \'AddPilotToMatchday\',\r\n    props: {\r\n        matchdayId: {\r\n            type: [Number, String],\r\n            required: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            showModal: false,\r\n            searchTerm: \'\',\r\n            pilots: [],\r\n            selectedPilot: null,\r\n            notes: \'\',\r\n            loading: false,\r\n            submitting: false,\r\n            searchTimeout: null\r\n        };\r\n    },\r\n    computed: {\r\n        debouncedSearch() {\r\n            return this.debounce(this.searchPilots, 300);\r\n        }\r\n    },\r\n    methods: {\r\n        debounce(func, wait) {\r\n            return (...args) => {\r\n                clearTimeout(this.searchTimeout);\r\n                this.searchTimeout = setTimeout(() => func.apply(this, args), wait);\r\n            };\r\n        },\r\n\r\n        async searchPilots() {\r\n            if (this.searchTerm.length < 2) {\r\n                this.pilots = [];\r\n                return;\r\n            }\r\n\r\n            this.loading = true;\r\n            try {\r\n                const response = await fetch(`/api/matchdays/${this.matchdayId}/available-pilots?search=${encodeURIComponent(this.searchTerm)}&limit=20`);\r\n                \r\n                if (!response.ok) {\r\n                    throw new Error(\'Error al buscar pilotos\');\r\n                }\r\n                \r\n                const data = await response.json();\r\n                this.pilots = data.success ? data.data : [];\r\n                \r\n            } catch (error) {\r\n                console.error(\'Error searching pilots:\', error);\r\n                this.pilots = [];\r\n                alert(\'Error al buscar pilotos. Por favor, intenta nuevamente.\');\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        },\r\n\r\n        selectPilot(pilot) {\r\n            this.selectedPilot = pilot;\r\n        },\r\n\r\n        async addPilot() {\r\n            if (!this.selectedPilot) return;\r\n\r\n            this.submitting = true;\r\n            try {\r\n                const response = await fetch(`/api/matchdays/${this.matchdayId}/add-pilot`, {\r\n                    method: \'POST\',\r\n                    headers: {\r\n                        \'Content-Type\': \'application/json\',\r\n                        \'X-CSRF-TOKEN\': window.Laravel.csrfToken,\r\n                        \'Accept\': \'application/json\'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        pilot_id: this.selectedPilot.id,\r\n                        category_id: this.selectedPilot.category ? this.selectedPilot.category.id : null,\r\n                        notes: this.notes || null\r\n                    })\r\n                });\r\n\r\n                const data = await response.json();\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(data.message || \'Error al agregar el piloto\');\r\n                }\r\n\r\n                // Success\r\n                alert(data.message || \'Piloto agregado exitosamente\');\r\n                \r\n                // Emit event to parent component to refresh participant list\r\n                this.$emit(\'pilot-added\', data.data);\r\n                \r\n                // Cerrar modal y resetear formulario\r\n                this.closeModal();\r\n\r\n            } catch (error) {\r\n                console.error(\'Error adding pilot:\', error);\r\n                alert(error.message || \'Error al agregar el piloto. Por favor, intenta nuevamente.\');\r\n            } finally {\r\n                this.submitting = false;\r\n            }\r\n        },\r\n\r\n        closeModal() {\r\n            this.showModal = false;\r\n            this.resetForm();\r\n        },\r\n\r\n        resetForm() {\r\n            this.searchTerm = \'\';\r\n            this.pilots = [];\r\n            this.selectedPilot = null;\r\n            this.notes = \'\';\r\n            this.loading = false;\r\n            this.submitting = false;\r\n            if (this.searchTimeout) {\r\n                clearTimeout(this.searchTimeout);\r\n            }\r\n        }\r\n    }\r\n};\r\n<\/script>\r\n\r\n<style scoped>\r\n.pilot-card {\r\n    transition: all 0.2s ease;\r\n    border: 2px solid transparent;\r\n}\r\n\r\n.pilot-card:hover {\r\n    border-color: #007bff;\r\n    box-shadow: 0 2px 8px rgba(0,123,255,0.2);\r\n}\r\n\r\n.pilot-card.selected {\r\n    border-color: #28a745;\r\n    background-color: #f8fff9;\r\n    box-shadow: 0 2px 8px rgba(40,167,69,0.2);\r\n}\r\n\r\n.text-sm {\r\n    font-size: 0.875rem;\r\n}\r\n\r\n.pilots-list {\r\n    max-height: 400px;\r\n    overflow-y: auto;\r\n}\r\n\r\n.selected-pilot-details .card {\r\n    border-left: 4px solid #28a745;\r\n}\r\n\r\n.modal-lg {\r\n    max-width: 800px;\r\n}\r\n\r\n/* Modal Vue puro */\r\n.vue-modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: rgba(0,0,0,0.4);\r\n    z-index: 2000;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n.vue-modal-dialog {\r\n    margin: 0;\r\n    max-width: 800px;\r\n    width: 100%;\r\n}\r\n</style>\r\n'],sourceRoot:""}]);const o=i},5857:(t,a,r)=>{r.d(a,{A:()=>o});var n=r(4991),e=r.n(n),s=r(6314),i=r.n(s)()(e());i.push([t.id,".matchday-detail[data-v-31fb93c2]{margin:0 auto;max-width:1200px}.text-justify[data-v-31fb93c2]{text-align:justify}.d-grid[data-v-31fb93c2]{display:grid}.gap-2[data-v-31fb93c2]{gap:.5rem}.small[data-v-31fb93c2]{font-size:.875rem}#categoriesAccordion .card[data-v-31fb93c2]{border:1px solid #dee2e6;border-radius:.375rem}#categoriesAccordion .card-header[data-v-31fb93c2]{background-color:#f8f9fa;border-bottom:1px solid #dee2e6;padding:0}#categoriesAccordion .btn-link[data-v-31fb93c2]{background:none;border:none;color:#495057;font-weight:500;padding:1rem;text-align:left;text-decoration:none;width:100%}#categoriesAccordion .btn-link[data-v-31fb93c2]:hover{background-color:#e9ecef;color:#007bff;text-decoration:none}#categoriesAccordion .btn-link[data-v-31fb93c2]:focus{box-shadow:none}#categoriesAccordion .btn-link .fa-chevron-down[data-v-31fb93c2]{transition:transform .3s ease-in-out}#categoriesAccordion .btn-link .fa-chevron-down.rotate-180[data-v-31fb93c2]{transform:rotate(180deg)}#categoriesAccordion .category-content[data-v-31fb93c2]{animation:slideDown-31fb93c2 .3s ease-in-out;border-top:1px solid #dee2e6}@keyframes slideDown-31fb93c2{0%{max-height:0;opacity:0}to{max-height:1000px;opacity:1}}#categoriesAccordion .table th[data-v-31fb93c2]{border-top:none;color:#6c757d;font-size:.875rem;font-weight:600}#categoriesAccordion .table td[data-v-31fb93c2]{border-top:1px solid #f1f3f4;vertical-align:middle}@media (max-width:768px){.card-tools[data-v-31fb93c2]{align-items:stretch;flex-direction:column}.card-tools .btn[data-v-31fb93c2]{margin-bottom:.25rem}}","",{version:3,sources:["webpack://./resources/js/components/forms/MatchdayDetail.vue"],names:[],mappings:"AAohBA,kCAEA,aAAA,CADA,gBAEA,CAEA,+BACA,kBACA,CAEA,yBACA,YACA,CAEA,wBACA,SACA,CAEA,wBACA,iBACA,CAGA,4CACA,wBAAA,CACA,qBACA,CAEA,mDACA,wBAAA,CACA,+BAAA,CACA,SACA,CAEA,gDAOA,eAAA,CADA,WAAA,CALA,aAAA,CAOA,eAAA,CALA,YAAA,CAEA,eAAA,CAHA,oBAAA,CAEA,UAKA,CAEA,sDAEA,wBAAA,CADA,aAAA,CAEA,oBACA,CAEA,sDACA,eACA,CAEA,iEACA,oCACA,CAEA,4EACA,wBACA,CAEA,wDAEA,4CAAA,CADA,4BAEA,CAEA,8BACA,GAEA,YAAA,CADA,SAEA,CACA,GAEA,iBAAA,CADA,SAEA,CACA,CAEA,gDACA,eAAA,CAGA,aAAA,CADA,iBAAA,CADA,eAGA,CAEA,gDAEA,4BAAA,CADA,qBAEA,CAEA,yBACA,6BAEA,mBAAA,CADA,qBAEA,CAEA,kCACA,oBACA,CACA",sourcesContent:['<template>\r\n    <div class="matchday-detail">\r\n        <div class="card">\r\n            <div class="card-header">\r\n                <h3 class="card-title">\r\n                    <i class="fas fa-calendar mr-2"></i>\r\n                    Detalle de la Jornada\r\n                </h3>\r\n                <div class="card-tools">\r\n                    <router-link :to="getBackUrl()" class="btn btn-outline-secondary btn-sm">\r\n                        <i class="fas fa-arrow-left mr-1"></i>\r\n                        {{ getBackText() }}\r\n                    </router-link>\r\n                    <router-link \r\n                        v-if="canEdit" \r\n                        :to="{ name: \'matchdays.edit\', params: { id: matchdayId } }" \r\n                        class="btn btn-primary btn-sm ml-2"\r\n                    >\r\n                        <i class="fas fa-edit mr-1"></i>\r\n                        Editar\r\n                    </router-link>\r\n                </div>\r\n            </div>\r\n\r\n            <div v-if="loading" class="card-body text-center">\r\n                <div class="spinner-border text-primary" role="status">\r\n                    <span class="sr-only">Cargando...</span>\r\n                </div>\r\n                <p class="mt-3">Cargando información de la jornada...</p>\r\n            </div>\r\n\r\n            <div v-else-if="matchday" class="card-body">\r\n                <div class="row">\r\n                    \x3c!-- Información principal --\x3e\r\n                    <div class="col-md-8">\r\n                        <div class="d-flex justify-content-between align-items-start mb-3">\r\n                            <h4 class="mb-0">{{ matchday.name || `Jornada ${matchday.number}` }}</h4>\r\n                            <span :class="getStatusClass(matchday.status)">\r\n                                {{ getStatusLabel(matchday.status) }}\r\n                            </span>\r\n                        </div>\r\n                        \r\n                        <div v-if="matchday.description" class="mb-4">\r\n                            <h6 class="text-muted mb-2">Descripción</h6>\r\n                            <p class="text-justify">{{ matchday.description }}</p>\r\n                        </div>\r\n\r\n                        <div class="row mb-4">\r\n                            <div class="col-md-6">\r\n                                <h6 class="text-muted mb-2">Información General</h6>\r\n                                <p v-if="matchday.date" class="mb-1">\r\n                                    <i class="fas fa-calendar text-primary mr-2"></i>\r\n                                    <strong>Fecha:</strong> {{ formatDate(matchday.date, false) }}\r\n                                </p>\r\n                                <p v-if="matchday.venue" class="mb-1">\r\n                                    <i class="fas fa-map-marker-alt text-primary mr-2"></i>\r\n                                    <strong>Ubicación:</strong> {{ matchday.venue }}\r\n                                </p>\r\n                                <p v-if="matchday.organizer_club" class="mb-1">\r\n                                    <i class="fas fa-users text-primary mr-2"></i>\r\n                                    <strong>Club Organizador:</strong> {{ matchday.organizer_club.name }}\r\n                                </p>\r\n                                <p v-if="matchday.championship" class="mb-0">\r\n                                    <i class="fas fa-trophy text-primary mr-2"></i>\r\n                                    <strong>Campeonato:</strong> \r\n                                    <router-link :to="{ name: \'championships.show\', params: { id: matchday.championship.id } }">\r\n                                        {{ matchday.championship.name }}\r\n                                    </router-link>\r\n                                </p>\r\n                            </div>\r\n                            <div class="col-md-6">\r\n                                <h6 class="text-muted mb-2">Detalles de la Jornada</h6>\r\n                                <p v-if="matchday.number" class="mb-1">\r\n                                    <i class="fas fa-hashtag text-success mr-2"></i>\r\n                                    <strong>Número de Ronda:</strong> {{ matchday.number }}\r\n                                </p>\r\n                                <p v-if="matchday.registration_deadline" class="mb-1">\r\n                                    <i class="fas fa-clock text-warning mr-2"></i>\r\n                                    <strong>Fecha límite inscripción:</strong> {{ formatDate(matchday.registration_deadline) }}\r\n                                </p>\r\n                                <p v-if="matchday.entry_fee" class="mb-1">\r\n                                    <i class="fas fa-dollar-sign text-success mr-2"></i>\r\n                                    <strong>Costo de inscripción:</strong> ${{ matchday.entry_fee }}\r\n                                </p>\r\n                                <p class="mb-0">\r\n                                    <i class="fas fa-users text-info mr-2"></i>\r\n                                    <strong>Participantes:</strong> {{ matchday.participants_count || 0 }}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \x3c!-- Fechas de registro --\x3e\r\n                        <div class="row text-muted small">\r\n                            <div class="col-md-6">\r\n                                <p class="mb-1">\r\n                                    <i class="fas fa-plus-circle mr-1"></i>\r\n                                    Creada: {{ formatDate(matchday.created_at) }}\r\n                                </p>\r\n                            </div>\r\n                            <div class="col-md-6">\r\n                                <p class="mb-1">\r\n                                    <i class="fas fa-edit mr-1"></i>\r\n                                    Última actualización: {{ formatDate(matchday.updated_at) }}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    \x3c!-- Panel lateral --\x3e\r\n                    <div class="col-md-4">\r\n                        <div class="card bg-light">\r\n                            <div class="card-header">\r\n                                <h6 class="card-title mb-0">\r\n                                    <i class="fas fa-info-circle mr-1"></i>\r\n                                    Resumen de la Jornada\r\n                                </h6>\r\n                            </div>\r\n                            <div class="card-body">\r\n                                <dl class="row small">\r\n                                    <dt class="col-sm-5">Nombre:</dt>\r\n                                    <dd class="col-sm-7">{{ matchday.name || `Jornada ${matchday.number}` }}</dd>\r\n                                    \r\n                                    <dt class="col-sm-5">Fecha:</dt>\r\n                                    <dd class="col-sm-7">{{ formatDate(matchday.date, false) || \'Por definir\' }}</dd>\r\n                                    \r\n                                    <dt class="col-sm-5">Estado:</dt>\r\n                                    <dd class="col-sm-7">\r\n                                        <span :class="getStatusClass(matchday.status)">\r\n                                            {{ getStatusLabel(matchday.status) }}\r\n                                        </span>\r\n                                    </dd>\r\n                                    \r\n                                    <dt class="col-sm-5">Participantes:</dt>\r\n                                    <dd class="col-sm-7">{{ matchday.participants_count || 0 }}</dd>\r\n                                </dl>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \x3c!-- Acciones rápidas --\x3e\r\n                        <div v-if="canEdit" class="card mt-3">\r\n                            <div class="card-header">\r\n                                <h6 class="card-title mb-0">\r\n                                    <i class="fas fa-tools mr-1"></i>\r\n                                    Acciones\r\n                                </h6>\r\n                            </div>\r\n                            <div class="card-body">\r\n                                <div class="d-grid gap-2">\r\n                                    <router-link \r\n                                        :to="{ name: \'matchdays.edit\', params: { id: matchdayId } }" \r\n                                        class="btn btn-primary btn-sm"\r\n                                    >\r\n                                        <i class="fas fa-edit mr-1"></i>\r\n                                        Editar Jornada\r\n                                    </router-link>\r\n                                    <router-link \r\n                                        :to="{ name: \'matchdays\', query: { championship: matchday.championship_id } }" \r\n                                        class="btn btn-outline-primary btn-sm"\r\n                                    >\r\n                                        <i class="fas fa-list mr-1"></i>\r\n                                        Ver Todas las Jornadas\r\n                                    </router-link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                \x3c!-- Lista de participantes agrupados por categoría --\x3e\r\n                <div v-if="matchday.participants && matchday.participants.length > 0" class="mt-5">\r\n                    <div class="d-flex justify-content-between align-items-center mb-3">\r\n                        <h5 class="mb-0">\r\n                            <i class="fas fa-users mr-2"></i>\r\n                            Participantes por Categoría ({{ matchday.participants.length }})\r\n                        </h5>\r\n                        <add-pilot-to-matchday \r\n                            v-if="canEdit"\r\n                            :matchday-id="matchdayId"\r\n                            @pilot-added="onPilotAdded"\r\n                        />\r\n                    </div>\r\n                    \r\n                    \x3c!-- Acordeón de categorías --\x3e\r\n                    <div id="categoriesAccordion">\r\n                        <div v-for="(categoryGroup, index) in categoriesData" :key="`category-${index}`" class="card mb-2">\r\n                            <div class="card-header">\r\n                                <h6 class="mb-0">\r\n                                    <button \r\n                                        class="btn btn-link btn-block text-left"\r\n                                        type="button" \r\n                                        @click="toggleCategory(index)"\r\n                                        style="text-decoration: none;"\r\n                                    >\r\n                                        <i class="fas fa-layer-group mr-2"></i>\r\n                                        {{ categoryGroup.category }}\r\n                                        <span class="badge badge-primary ml-2">{{ categoryGroup.pilots.length }}</span>\r\n                                        <i class="fas fa-chevron-down float-right mt-1" \r\n                                           :style="{ transform: isCategoryExpanded(index) ? \'rotate(180deg)\' : \'rotate(0deg)\', transition: \'transform 0.3s\' }"></i>\r\n                                    </button>\r\n                                </h6>\r\n                            </div>\r\n                            \r\n                            <div v-show="isCategoryExpanded(index)" class="card-body category-content">\r\n                                <div class="table-responsive">\r\n                                    <table class="table table-sm table-hover mb-0">\r\n                                        <thead class="thead-light">\r\n                                            <tr>\r\n                                                <th width="40"></th>\r\n                                                <th>Piloto</th>\r\n                                                <th>Club</th>\r\n                                                <th>Edad</th>\r\n                                                <th>Estado</th>\r\n                                                <th width="100">Acciones</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr v-for="participant in categoryGroup.pilots" :key="participant.id">\r\n                                                <td>\r\n                                                    <img \r\n                                                        v-if="participant.pilot?.photo" \r\n                                                        :src="\'/storage/\' + participant.pilot.photo" \r\n                                                        :alt="\'Foto de \' + participant.pilot.first_name + \' \' + participant.pilot.last_name"\r\n                                                        class="rounded-circle" \r\n                                                        style="width: 32px; height: 32px; object-fit: cover;"\r\n                                                    >\r\n                                                    <div \r\n                                                        v-else\r\n                                                        class="bg-secondary rounded-circle d-flex align-items-center justify-content-center" \r\n                                                        style="width: 32px; height: 32px;"\r\n                                                    >\r\n                                                        <i class="fas fa-user text-white" style="font-size: 12px;"></i>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <strong>{{ participant.pilot?.first_name }} {{ participant.pilot?.last_name }}</strong>\r\n                                                    <br>\r\n                                                    <small class="text-muted">ID: {{ participant.pilot?.id }}</small>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <span v-if="participant.pilot?.club">\r\n                                                        {{ participant.pilot.club.name }}\r\n                                                    </span>\r\n                                                    <span v-else class="text-muted">Sin club</span>\r\n                                                </td>\r\n                                                <td>{{ participant.pilot?.age || \'N/A\' }}</td>\r\n                                                <td>\r\n                                                    <span :class="getParticipantStatusClass(participant.status)">\r\n                                                        {{ getParticipantStatusLabel(participant.status) }}\r\n                                                    </span>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <router-link \r\n                                                        :to="{ \r\n                                                            name: \'pilots.show\', \r\n                                                            params: { id: participant.pilot?.id },\r\n                                                            query: {\r\n                                                                from: \'matchday\',\r\n                                                                matchdayId: matchdayId\r\n                                                            }\r\n                                                        }" \r\n                                                        class="btn btn-sm btn-outline-primary"\r\n                                                        title="Ver detalles del piloto"\r\n                                                    >\r\n                                                        <i class="fas fa-eye"></i>\r\n                                                    </router-link>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                \r\n                                \x3c!-- Estadísticas rápidas de la categoría --\x3e\r\n                                <div class="mt-3 text-center">\r\n                                    <small class="text-muted">\r\n                                        <i class="fas fa-chart-bar mr-1"></i>\r\n                                        {{ categoryGroup.stats.active }} activos, \r\n                                        {{ categoryGroup.stats.inactive }} inactivos, \r\n                                        {{ categoryGroup.stats.clubs }} clubes representados\r\n                                    </small>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                \x3c!-- Mensaje cuando no hay participantes --\x3e\r\n                <div v-else-if="!loading" class="mt-5">\r\n                    <div class="text-center py-5">\r\n                        <i class="fas fa-users-slash fa-3x text-muted mb-3"></i>\r\n                        <h5 class="text-muted">No hay participantes registrados</h5>\r\n                        <p class="text-muted">Esta jornada aún no tiene pilotos inscritos.</p>\r\n                        <div v-if="canEdit" class="mt-3">\r\n                            <add-pilot-to-matchday \r\n                                :matchday-id="matchdayId"\r\n                                @pilot-added="onPilotAdded"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div v-else class="card-body text-center">\r\n                <i class="fas fa-exclamation-triangle fa-3x text-warning mb-3"></i>\r\n                <h4 class="text-muted">Jornada no encontrada</h4>\r\n                <p class="text-muted">La jornada que buscas no existe o ha sido eliminada.</p>\r\n                <router-link :to="{ name: \'matchdays\' }" class="btn btn-primary">\r\n                    <i class="fas fa-arrow-left mr-1"></i>\r\n                    Volver a Jornadas\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport AddPilotToMatchday from \'./AddPilotToMatchday.vue\';\r\n\r\nexport default {\r\n    name: \'MatchdayDetail\',\r\n    components: {\r\n        AddPilotToMatchday\r\n    },\r\n    data() {\r\n        return {\r\n            matchday: null,\r\n            loading: false,\r\n            categoriesData: [], // Nueva propiedad para manejar el estado del acordeón\r\n            expandedCategories: {} // Objeto para controlar el estado expandido de cada categoría\r\n        };\r\n    },\r\n    computed: {\r\n        matchdayId() {\r\n            return this.$route.params.id;\r\n        },\r\n        canEdit() {\r\n            return window.Laravel?.user?.authenticated || false;\r\n        },\r\n        // Detectar desde dónde viene el usuario\r\n        fromChampionship() {\r\n            return this.$route.query.from === \'championship\' && this.$route.query.championshipId;\r\n        },\r\n        fromChampionshipId() {\r\n            return this.$route.query.championshipId;\r\n        }\r\n    },\r\n    mounted() {\r\n        this.loadMatchday();\r\n    },\r\n    methods: {\r\n        async loadMatchday() {\r\n            this.loading = true;\r\n            try {\r\n                // Primero verificar si hay datos iniciales del servidor\r\n                if (window.Laravel && window.Laravel.initialData && window.Laravel.initialData.page === \'matchday-detail\') {\r\n                    this.matchday = window.Laravel.initialData.matchday;\r\n                } else {\r\n                    // Si no hay datos iniciales, cargar desde API\r\n                    const response = await fetch(`/api/matchdays/${this.matchdayId}`);\r\n                    if (!response.ok) {\r\n                        throw new Error(\'Jornada no encontrada\');\r\n                    }\r\n                    const data = await response.json();\r\n                    this.matchday = data.success ? data.data : data;\r\n                }                } catch (error) {\r\n                console.error(\'Error loading matchday:\', error);\r\n                this.matchday = null;\r\n            } finally {\r\n                this.loading = false;\r\n                // Procesar categorías después de cargar\r\n                this.processCategories();\r\n            }\r\n        },\r\n\r\n        processCategories() {\r\n            if (!this.matchday || !this.matchday.participants) {\r\n                this.categoriesData = [];\r\n                this.expandedCategories = {};\r\n                return;\r\n            }\r\n            \r\n            // Agrupar por categoría\r\n            const grouped = {};\r\n            \r\n            this.matchday.participants.forEach(participant => {\r\n                const categoryName = participant.pilot?.category?.name || \'Sin categoría\';\r\n                \r\n                if (!grouped[categoryName]) {\r\n                    grouped[categoryName] = {\r\n                        category: categoryName,\r\n                        pilots: [],\r\n                        stats: {\r\n                            active: 0,\r\n                            inactive: 0,\r\n                            clubs: new Set()\r\n                        }\r\n                    };\r\n                }\r\n                \r\n                grouped[categoryName].pilots.push(participant);\r\n                \r\n                // Calcular estadísticas\r\n                if (participant.status === \'active\' || participant.status === \'confirmed\') {\r\n                    grouped[categoryName].stats.active++;\r\n                } else {\r\n                    grouped[categoryName].stats.inactive++;\r\n                }\r\n                \r\n                if (participant.pilot?.club?.name) {\r\n                    grouped[categoryName].stats.clubs.add(participant.pilot.club.name);\r\n                }\r\n            });\r\n            \r\n            // Convertir el Set de clubes a número\r\n            Object.values(grouped).forEach(group => {\r\n                group.stats.clubs = group.stats.clubs.size;\r\n            });\r\n            \r\n            // Convertir a array y ordenar por nombre de categoría\r\n            const result = Object.values(grouped).sort((a, b) => {\r\n                // \'Sin categoría\' siempre al final\r\n                if (a.category === \'Sin categoría\') return 1;\r\n                if (b.category === \'Sin categoría\') return -1;\r\n                return a.category.localeCompare(b.category);\r\n            });\r\n            \r\n            this.categoriesData = result;\r\n            \r\n            // Inicializar estado expandido (primera categoría expandida por defecto)\r\n            const expandedState = {};\r\n            result.forEach((category, index) => {\r\n                expandedState[index] = index === 0; // Solo la primera expandida\r\n            });\r\n            this.expandedCategories = expandedState;\r\n        },\r\n\r\n        toggleCategory(index) {\r\n            // Usar Vue.set para asegurar reactividad\r\n            this.$set(this.expandedCategories, index, !this.expandedCategories[index]);\r\n        },\r\n\r\n        isCategoryExpanded(index) {\r\n            return this.expandedCategories[index] || false;\r\n        },\r\n\r\n        // Métodos para navegación inteligente\r\n        getBackUrl() {\r\n            if (this.fromChampionship) {\r\n                return `/campeonatos/${this.fromChampionshipId}`;\r\n            }\r\n            return \'/jornadas\';\r\n        },\r\n        \r\n        getBackText() {\r\n            if (this.fromChampionship) {\r\n                return \'Campeonato\';\r\n            }\r\n            return \'Jornadas\';\r\n        },\r\n\r\n        getStatusClass(status) {\r\n            const classes = {\r\n                \'active\': \'badge badge-success\',\r\n                \'completed\': \'badge badge-primary\',\r\n                \'cancelled\': \'badge badge-danger\',\r\n                \'postponed\': \'badge badge-warning\',\r\n                \'draft\': \'badge badge-secondary\'\r\n            };\r\n            return classes[status] || \'badge badge-secondary\';\r\n        },\r\n\r\n        getStatusLabel(status) {\r\n            const labels = {\r\n                \'active\': \'Activa\',\r\n                \'completed\': \'Completada\',\r\n                \'cancelled\': \'Cancelada\',\r\n                \'postponed\': \'Pospuesta\',\r\n                \'draft\': \'Borrador\'\r\n            };\r\n            return labels[status] || \'Desconocido\';\r\n        },\r\n\r\n        getParticipantStatusClass(status) {\r\n            const classes = {\r\n                \'active\': \'badge badge-success\',\r\n                \'inactive\': \'badge badge-secondary\',\r\n                \'disqualified\': \'badge badge-danger\'\r\n            };\r\n            return classes[status] || \'badge badge-secondary\';\r\n        },\r\n\r\n        getParticipantStatusLabel(status) {\r\n            const labels = {\r\n                \'active\': \'Activo\',\r\n                \'inactive\': \'Inactivo\',\r\n                \'disqualified\': \'Descalificado\'\r\n            };\r\n            return labels[status] || \'Desconocido\';\r\n        },\r\n\r\n        formatDate(dateString, includeTime = true) {\r\n            if (!dateString) return \'No disponible\';\r\n            try {\r\n                const date = new Date(dateString);\r\n                const options = {\r\n                    year: \'numeric\',\r\n                    month: \'long\',\r\n                    day: \'numeric\'\r\n                };\r\n                \r\n                if (includeTime) {\r\n                    options.hour = \'2-digit\';\r\n                    options.minute = \'2-digit\';\r\n                }\r\n                \r\n                return date.toLocaleDateString(\'es-ES\', options);\r\n            } catch (error) {\r\n                return \'Fecha inválida\';\r\n            }\r\n        },\r\n\r\n        onPilotAdded(newParticipant) {\r\n            if (this.matchday && this.matchday.participants) {\r\n                this.matchday.participants.push(newParticipant);\r\n                this.matchday.participants_count++;\r\n                this.processCategories();\r\n            }\r\n        },\r\n    }\r\n};\r\n<\/script>\r\n\r\n<style scoped>\r\n.matchday-detail {\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.text-justify {\r\n    text-align: justify;\r\n}\r\n\r\n.d-grid {\r\n    display: grid;\r\n}\r\n\r\n.gap-2 {\r\n    gap: 0.5rem;\r\n}\r\n\r\n.small {\r\n    font-size: 0.875rem;\r\n}\r\n\r\n/* Estilos para el acordeón de categorías */\r\n#categoriesAccordion .card {\r\n    border: 1px solid #dee2e6;\r\n    border-radius: 0.375rem;\r\n}\r\n\r\n#categoriesAccordion .card-header {\r\n    background-color: #f8f9fa;\r\n    border-bottom: 1px solid #dee2e6;\r\n    padding: 0;\r\n}\r\n\r\n#categoriesAccordion .btn-link {\r\n    color: #495057;\r\n    text-decoration: none;\r\n    padding: 1rem;\r\n    width: 100%;\r\n    text-align: left;\r\n    border: none;\r\n    background: none;\r\n    font-weight: 500;\r\n}\r\n\r\n#categoriesAccordion .btn-link:hover {\r\n    color: #007bff;\r\n    background-color: #e9ecef;\r\n    text-decoration: none;\r\n}\r\n\r\n#categoriesAccordion .btn-link:focus {\r\n    box-shadow: none;\r\n}\r\n\r\n#categoriesAccordion .btn-link .fa-chevron-down {\r\n    transition: transform 0.3s ease-in-out;\r\n}\r\n\r\n#categoriesAccordion .btn-link .fa-chevron-down.rotate-180 {\r\n    transform: rotate(180deg);\r\n}\r\n\r\n#categoriesAccordion .category-content {\r\n    border-top: 1px solid #dee2e6;\r\n    animation: slideDown 0.3s ease-in-out;\r\n}\r\n\r\n@keyframes slideDown {\r\n    from {\r\n        opacity: 0;\r\n        max-height: 0;\r\n    }\r\n    to {\r\n        opacity: 1;\r\n        max-height: 1000px;\r\n    }\r\n}\r\n\r\n#categoriesAccordion .table th {\r\n    border-top: none;\r\n    font-weight: 600;\r\n    font-size: 0.875rem;\r\n    color: #6c757d;\r\n}\r\n\r\n#categoriesAccordion .table td {\r\n    vertical-align: middle;\r\n    border-top: 1px solid #f1f3f4;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n    .card-tools {\r\n        flex-direction: column;\r\n        align-items: stretch;\r\n    }\r\n    \r\n    .card-tools .btn {\r\n        margin-bottom: 0.25rem;\r\n    }\r\n}\r\n</style>\r\n'],sourceRoot:""}]);const o=i},6239:(t,a,r)=>{r.r(a),r.d(a,{default:()=>A});function n(){var t,a,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,s,i){var o=n&&n.prototype instanceof d?n:d,l=Object.create(o.prototype);return e(l,"_invoke",function(r,n,e){var s,i,o,d=0,l=e||[],m=!1,p={p:0,n:0,v:t,a:u,f:u.bind(t,4),d:function(a,r){return s=a,i=0,o=t,p.n=r,c}};function u(r,n){for(i=r,o=n,a=0;!m&&d&&!e&&a<l.length;a++){var e,s=l[a],u=p.p,h=s[2];r>3?(e=h===n)&&(o=s[(i=s[4])?5:(i=3,3)],s[4]=s[5]=t):s[0]<=u&&((e=r<2&&u<s[1])?(i=0,p.v=n,p.n=s[1]):u<h&&(e=r<3||s[0]>n||n>h)&&(s[4]=r,s[5]=n,p.n=h,i=0))}if(e||r>1)return c;throw m=!0,n}return function(e,l,h){if(d>1)throw TypeError("Generator is already running");for(m&&1===l&&u(l,h),i=l,o=h;(a=i<2?t:o)||!m;){s||(i?i<3?(i>1&&(p.n=-1),u(i,o)):p.n=o:p.v=o);try{if(d=2,s){if(i||(e="next"),a=s[e]){if(!(a=a.call(s,o)))throw TypeError("iterator result is not an object");if(!a.done)return a;o=a.value,i<2&&(i=0)}else 1===i&&(a=s.return)&&a.call(s),i<2&&(o=TypeError("The iterator does not provide a '"+e+"' method"),i=1);s=t}else if((a=(m=p.n<0)?o:r.call(n,p))!==c)break}catch(a){s=t,i=1,o=a}finally{d=1}}return{value:a,done:m}}}(r,s,i),!0),l}var c={};function d(){}function l(){}function m(){}a=Object.getPrototypeOf;var p=[][s]?a(a([][s]())):(e(a={},s,function(){return this}),a),u=m.prototype=d.prototype=Object.create(p);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,e(t,i,"GeneratorFunction")),t.prototype=Object.create(u),t}return l.prototype=m,e(u,"constructor",m),e(m,"constructor",l),l.displayName="GeneratorFunction",e(m,i,"GeneratorFunction"),e(u),e(u,i,"Generator"),e(u,s,function(){return this}),e(u,"toString",function(){return"[object Generator]"}),(n=function(){return{w:o,m:h}})()}function e(t,a,r,n){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}e=function(t,a,r,n){if(a)s?s(t,a,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[a]=r;else{var i=function(a,r){e(t,a,function(t){return this._invoke(a,r,t)})};i("next",0),i("throw",1),i("return",2)}},e(t,a,r,n)}function s(t,a,r,n,e,s,i){try{var o=t[s](i),c=o.value}catch(t){return void r(t)}o.done?a(c):Promise.resolve(c).then(n,e)}function i(t){return function(){var a=this,r=arguments;return new Promise(function(n,e){var i=t.apply(a,r);function o(t){s(i,n,e,o,c,"next",t)}function c(t){s(i,n,e,o,c,"throw",t)}o(void 0)})}}const o={name:"AddPilotToMatchday",props:{matchdayId:{type:[Number,String],required:!0}},data:function(){return{showModal:!1,searchTerm:"",pilots:[],selectedPilot:null,notes:"",loading:!1,submitting:!1,searchTimeout:null}},computed:{debouncedSearch:function(){return this.debounce(this.searchPilots,300)}},methods:{debounce:function(t,a){var r=this;return function(){for(var n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];clearTimeout(r.searchTimeout),r.searchTimeout=setTimeout(function(){return t.apply(r,e)},a)}},searchPilots:function(){var t=this;return i(n().m(function a(){var r,e,s;return n().w(function(a){for(;;)switch(a.n){case 0:if(!(t.searchTerm.length<2)){a.n=1;break}return t.pilots=[],a.a(2);case 1:return t.loading=!0,a.p=2,a.n=3,fetch("/api/matchdays/".concat(t.matchdayId,"/available-pilots?search=").concat(encodeURIComponent(t.searchTerm),"&limit=20"));case 3:if((r=a.v).ok){a.n=4;break}throw new Error("Error al buscar pilotos");case 4:return a.n=5,r.json();case 5:e=a.v,t.pilots=e.success?e.data:[],a.n=7;break;case 6:a.p=6,s=a.v,console.error("Error searching pilots:",s),t.pilots=[],alert("Error al buscar pilotos. Por favor, intenta nuevamente.");case 7:return a.p=7,t.loading=!1,a.f(7);case 8:return a.a(2)}},a,null,[[2,6,7,8]])}))()},selectPilot:function(t){this.selectedPilot=t},addPilot:function(){var t=this;return i(n().m(function a(){var r,e,s;return n().w(function(a){for(;;)switch(a.n){case 0:if(t.selectedPilot){a.n=1;break}return a.a(2);case 1:return t.submitting=!0,a.p=2,a.n=3,fetch("/api/matchdays/".concat(t.matchdayId,"/add-pilot"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":window.Laravel.csrfToken,Accept:"application/json"},body:JSON.stringify({pilot_id:t.selectedPilot.id,category_id:t.selectedPilot.category?t.selectedPilot.category.id:null,notes:t.notes||null})});case 3:return r=a.v,a.n=4,r.json();case 4:if(e=a.v,r.ok){a.n=5;break}throw new Error(e.message||"Error al agregar el piloto");case 5:alert(e.message||"Piloto agregado exitosamente"),t.$emit("pilot-added",e.data),t.closeModal(),a.n=7;break;case 6:a.p=6,s=a.v,console.error("Error adding pilot:",s),alert(s.message||"Error al agregar el piloto. Por favor, intenta nuevamente.");case 7:return a.p=7,t.submitting=!1,a.f(7);case 8:return a.a(2)}},a,null,[[2,6,7,8]])}))()},closeModal:function(){this.showModal=!1,this.resetForm()},resetForm:function(){this.searchTerm="",this.pilots=[],this.selectedPilot=null,this.notes="",this.loading=!1,this.submitting=!1,this.searchTimeout&&clearTimeout(this.searchTimeout)}}};var c=r(5072),d=r.n(c),l=r(3044),m={insert:"head",singleton:!1};d()(l.A,m);l.A.locals;var p=r(4486);function u(){var t,a,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",e=r.toStringTag||"@@toStringTag";function s(r,n,e,s){var c=n&&n.prototype instanceof o?n:o,d=Object.create(c.prototype);return h(d,"_invoke",function(r,n,e){var s,o,c,d=0,l=e||[],m=!1,p={p:0,n:0,v:t,a:u,f:u.bind(t,4),d:function(a,r){return s=a,o=0,c=t,p.n=r,i}};function u(r,n){for(o=r,c=n,a=0;!m&&d&&!e&&a<l.length;a++){var e,s=l[a],u=p.p,h=s[2];r>3?(e=h===n)&&(c=s[(o=s[4])?5:(o=3,3)],s[4]=s[5]=t):s[0]<=u&&((e=r<2&&u<s[1])?(o=0,p.v=n,p.n=s[1]):u<h&&(e=r<3||s[0]>n||n>h)&&(s[4]=r,s[5]=n,p.n=h,o=0))}if(e||r>1)return i;throw m=!0,n}return function(e,l,h){if(d>1)throw TypeError("Generator is already running");for(m&&1===l&&u(l,h),o=l,c=h;(a=o<2?t:c)||!m;){s||(o?o<3?(o>1&&(p.n=-1),u(o,c)):p.n=c:p.v=c);try{if(d=2,s){if(o||(e="next"),a=s[e]){if(!(a=a.call(s,c)))throw TypeError("iterator result is not an object");if(!a.done)return a;c=a.value,o<2&&(o=0)}else 1===o&&(a=s.return)&&a.call(s),o<2&&(c=TypeError("The iterator does not provide a '"+e+"' method"),o=1);s=t}else if((a=(m=p.n<0)?c:r.call(n,p))!==i)break}catch(a){s=t,o=1,c=a}finally{d=1}}return{value:a,done:m}}}(r,e,s),!0),d}var i={};function o(){}function c(){}function d(){}a=Object.getPrototypeOf;var l=[][n]?a(a([][n]())):(h(a={},n,function(){return this}),a),m=d.prototype=o.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,h(t,e,"GeneratorFunction")),t.prototype=Object.create(m),t}return c.prototype=d,h(m,"constructor",d),h(d,"constructor",c),c.displayName="GeneratorFunction",h(d,e,"GeneratorFunction"),h(m),h(m,e,"Generator"),h(m,n,function(){return this}),h(m,"toString",function(){return"[object Generator]"}),(u=function(){return{w:s,m:p}})()}function h(t,a,r,n){var e=Object.defineProperty;try{e({},"",{})}catch(t){e=0}h=function(t,a,r,n){if(a)e?e(t,a,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[a]=r;else{var s=function(a,r){h(t,a,function(t){return this._invoke(a,r,t)})};s("next",0),s("throw",1),s("return",2)}},h(t,a,r,n)}function v(t,a,r,n,e,s,i){try{var o=t[s](i),c=o.value}catch(t){return void r(t)}o.done?a(c):Promise.resolve(c).then(n,e)}const f={name:"MatchdayDetail",components:{AddPilotToMatchday:(0,p.A)(o,function(){var t=this,a=t._self._c;return a("div",{staticClass:"add-pilot-modal"},[a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(a){t.showModal=!0}}},[a("i",{staticClass:"fas fa-user-plus mr-1"}),t._v("\n        Agregar Piloto\n    ")]),t._v(" "),t.showModal?a("div",{staticClass:"vue-modal-overlay",on:{click:function(a){return a.target!==a.currentTarget?null:t.closeModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-dialog modal-lg vue-modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.closeModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"pilotSearch"}},[t._v("Buscar Piloto")]),t._v(" "),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"form-control",attrs:{id:"pilotSearch",type:"text",placeholder:"Buscar por nombre o RUT...",disabled:t.loading},domProps:{value:t.searchTerm},on:{input:[function(a){a.target.composing||(t.searchTerm=a.target.value)},t.debouncedSearch]}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t.loading?a("i",{staticClass:"fas fa-spinner fa-spin"}):a("i",{staticClass:"fas fa-search"})])])]),t._v(" "),a("small",{staticClass:"form-text text-muted"},[t._v("\n                            Solo se muestran pilotos activos registrados en el campeonato\n                        ")])]),t._v(" "),t.pilots.length>0?a("div",{staticClass:"pilots-list"},[a("h6",{staticClass:"mb-3"},[t._v("Pilotos Disponibles:")]),t._v(" "),a("div",{staticClass:"row"},t._l(t.pilots,function(r){return a("div",{key:r.id,staticClass:"col-md-6 mb-3"},[a("div",{staticClass:"card pilot-card h-100",class:{selected:t.selectedPilot&&t.selectedPilot.id===r.id},staticStyle:{cursor:"pointer"},on:{click:function(a){return t.selectPilot(r)}}},[a("div",{staticClass:"card-body p-3"},[a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"pilot-info flex-grow-1"},[a("h6",{staticClass:"mb-1"},[t._v("\n                                                    "+t._s(r.first_name)+" "+t._s(r.last_name)+"\n                                                    "),r.nickname?a("small",{staticClass:"text-muted"},[t._v('"'+t._s(r.nickname)+'"')]):t._e()]),t._v(" "),a("p",{staticClass:"mb-1 text-sm"},[a("strong",[t._v("RUT:")]),t._v(" "+t._s(r.rut)+"\n                                                ")]),t._v(" "),a("p",{staticClass:"mb-1 text-sm"},[a("strong",[t._v("Club:")]),t._v(" "+t._s(r.club?r.club.name:"Sin club")+"\n                                                ")]),t._v(" "),a("p",{staticClass:"mb-0 text-sm"},[a("strong",[t._v("Categoría:")]),t._v(" "+t._s(r.category?r.category.name:"Sin categoría")+"\n                                                ")])]),t._v(" "),a("div",{staticClass:"pilot-select"},[t.selectedPilot&&t.selectedPilot.id===r.id?a("i",{staticClass:"fas fa-check-circle text-success",staticStyle:{"font-size":"1.5rem"}}):a("i",{staticClass:"far fa-circle text-muted",staticStyle:{"font-size":"1.5rem"}})])])])])])}),0)]):t.searchTerm&&!t.loading?a("div",{staticClass:"text-center py-4"},[a("i",{staticClass:"fas fa-search text-muted",staticStyle:{"font-size":"3rem"}}),t._v(" "),a("p",{staticClass:"mt-3 text-muted"},[t._v('\n                            No se encontraron pilotos con el término "'+t._s(t.searchTerm)+'"\n                        ')])]):t.searchTerm?t._e():a("div",{staticClass:"text-center py-4"},[a("i",{staticClass:"fas fa-users text-muted",staticStyle:{"font-size":"3rem"}}),t._v(" "),a("p",{staticClass:"mt-3 text-muted"},[t._v("\n                            Escribe el nombre o RUT del piloto para comenzar la búsqueda\n                        ")])]),t._v(" "),t.selectedPilot?a("div",{staticClass:"selected-pilot-details mt-4"},[a("hr"),t._v(" "),a("h6",[t._v("Piloto Seleccionado:")]),t._v(" "),a("div",{staticClass:"card bg-light"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("h6",[t._v(t._s(t.selectedPilot.first_name)+" "+t._s(t.selectedPilot.last_name))]),t._v(" "),a("p",{staticClass:"mb-1"},[a("strong",[t._v("RUT:")]),t._v(" "+t._s(t.selectedPilot.rut))]),t._v(" "),a("p",{staticClass:"mb-1"},[a("strong",[t._v("Club:")]),t._v(" "+t._s(t.selectedPilot.club?t.selectedPilot.club.name:"Sin club"))]),t._v(" "),a("p",{staticClass:"mb-0"},[a("strong",[t._v("Categoría:")]),t._v(" "+t._s(t.selectedPilot.category?t.selectedPilot.category.name:"Sin categoría"))])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group mb-0"},[a("label",{staticClass:"small",attrs:{for:"notes"}},[t._v("Notas (opcional)")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"form-control form-control-sm",attrs:{id:"notes",rows:"3",placeholder:"Observaciones sobre la participación..."},domProps:{value:t.notes},on:{input:function(a){a.target.composing||(t.notes=a.target.value)}}})])])])])])]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("\n                        Cancelar\n                    ")]),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:!t.selectedPilot||t.submitting},on:{click:t.addPilot}},[t.submitting?a("i",{staticClass:"fas fa-spinner fa-spin mr-1"}):a("i",{staticClass:"fas fa-user-plus mr-1"}),t._v("\n                        "+t._s(t.submitting?"Agregando...":"Agregar Piloto")+"\n                    ")])])])])]):t._e()])},[function(){var t=this._self._c;return t("h5",{staticClass:"modal-title"},[t("i",{staticClass:"fas fa-user-plus mr-2"}),this._v("\n                        Agregar Piloto a la Jornada\n                    ")])}],!1,null,"1eeb756b",null).exports},data:function(){return{matchday:null,loading:!1,categoriesData:[],expandedCategories:{}}},computed:{matchdayId:function(){return this.$route.params.id},canEdit:function(){var t;return(null===(t=window.Laravel)||void 0===t||null===(t=t.user)||void 0===t?void 0:t.authenticated)||!1},fromChampionship:function(){return"championship"===this.$route.query.from&&this.$route.query.championshipId},fromChampionshipId:function(){return this.$route.query.championshipId}},mounted:function(){this.loadMatchday()},methods:{loadMatchday:function(){var t,a=this;return(t=u().m(function t(){var r,n,e;return u().w(function(t){for(;;)switch(t.n){case 0:if(a.loading=!0,t.p=1,!window.Laravel||!window.Laravel.initialData||"matchday-detail"!==window.Laravel.initialData.page){t.n=2;break}a.matchday=window.Laravel.initialData.matchday,t.n=6;break;case 2:return t.n=3,fetch("/api/matchdays/".concat(a.matchdayId));case 3:if((r=t.v).ok){t.n=4;break}throw new Error("Jornada no encontrada");case 4:return t.n=5,r.json();case 5:n=t.v,a.matchday=n.success?n.data:n;case 6:t.n=8;break;case 7:t.p=7,e=t.v,console.error("Error loading matchday:",e),a.matchday=null;case 8:return t.p=8,a.loading=!1,a.processCategories(),t.f(8);case 9:return t.a(2)}},t,null,[[1,7,8,9]])}),function(){var a=this,r=arguments;return new Promise(function(n,e){var s=t.apply(a,r);function i(t){v(s,n,e,i,o,"next",t)}function o(t){v(s,n,e,i,o,"throw",t)}i(void 0)})})()},processCategories:function(){if(!this.matchday||!this.matchday.participants)return this.categoriesData=[],void(this.expandedCategories={});var t={};this.matchday.participants.forEach(function(a){var r,n,e=(null===(r=a.pilot)||void 0===r||null===(r=r.category)||void 0===r?void 0:r.name)||"Sin categoría";t[e]||(t[e]={category:e,pilots:[],stats:{active:0,inactive:0,clubs:new Set}}),t[e].pilots.push(a),"active"===a.status||"confirmed"===a.status?t[e].stats.active++:t[e].stats.inactive++,null!==(n=a.pilot)&&void 0!==n&&null!==(n=n.club)&&void 0!==n&&n.name&&t[e].stats.clubs.add(a.pilot.club.name)}),Object.values(t).forEach(function(t){t.stats.clubs=t.stats.clubs.size});var a=Object.values(t).sort(function(t,a){return"Sin categoría"===t.category?1:"Sin categoría"===a.category?-1:t.category.localeCompare(a.category)});this.categoriesData=a;var r={};a.forEach(function(t,a){r[a]=0===a}),this.expandedCategories=r},toggleCategory:function(t){this.$set(this.expandedCategories,t,!this.expandedCategories[t])},isCategoryExpanded:function(t){return this.expandedCategories[t]||!1},getBackUrl:function(){return this.fromChampionship?"/campeonatos/".concat(this.fromChampionshipId):"/jornadas"},getBackText:function(){return this.fromChampionship?"Campeonato":"Jornadas"},getStatusClass:function(t){return{active:"badge badge-success",completed:"badge badge-primary",cancelled:"badge badge-danger",postponed:"badge badge-warning",draft:"badge badge-secondary"}[t]||"badge badge-secondary"},getStatusLabel:function(t){return{active:"Activa",completed:"Completada",cancelled:"Cancelada",postponed:"Pospuesta",draft:"Borrador"}[t]||"Desconocido"},getParticipantStatusClass:function(t){return{active:"badge badge-success",inactive:"badge badge-secondary",disqualified:"badge badge-danger"}[t]||"badge badge-secondary"},getParticipantStatusLabel:function(t){return{active:"Activo",inactive:"Inactivo",disqualified:"Descalificado"}[t]||"Desconocido"},formatDate:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return"No disponible";try{var r=new Date(t),n={year:"numeric",month:"long",day:"numeric"};return a&&(n.hour="2-digit",n.minute="2-digit"),r.toLocaleDateString("es-ES",n)}catch(t){return"Fecha inválida"}},onPilotAdded:function(t){this.matchday&&this.matchday.participants&&(this.matchday.participants.push(t),this.matchday.participants_count++,this.processCategories())}}},g=f;var b=r(5857),y={insert:"head",singleton:!1};d()(b.A,y);b.A.locals;const A=(0,p.A)(g,function(){var t=this,a=t._self._c;return a("div",{staticClass:"matchday-detail"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._m(0),t._v(" "),a("div",{staticClass:"card-tools"},[a("router-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:t.getBackUrl()}},[a("i",{staticClass:"fas fa-arrow-left mr-1"}),t._v("\n                    "+t._s(t.getBackText())+"\n                ")]),t._v(" "),t.canEdit?a("router-link",{staticClass:"btn btn-primary btn-sm ml-2",attrs:{to:{name:"matchdays.edit",params:{id:t.matchdayId}}}},[a("i",{staticClass:"fas fa-edit mr-1"}),t._v("\n                    Editar\n                ")]):t._e()],1)]),t._v(" "),t.loading?a("div",{staticClass:"card-body text-center"},[t._m(1),t._v(" "),a("p",{staticClass:"mt-3"},[t._v("Cargando información de la jornada...")])]):t.matchday?a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"d-flex justify-content-between align-items-start mb-3"},[a("h4",{staticClass:"mb-0"},[t._v(t._s(t.matchday.name||"Jornada ".concat(t.matchday.number)))]),t._v(" "),a("span",{class:t.getStatusClass(t.matchday.status)},[t._v("\n                            "+t._s(t.getStatusLabel(t.matchday.status))+"\n                        ")])]),t._v(" "),t.matchday.description?a("div",{staticClass:"mb-4"},[a("h6",{staticClass:"text-muted mb-2"},[t._v("Descripción")]),t._v(" "),a("p",{staticClass:"text-justify"},[t._v(t._s(t.matchday.description))])]):t._e(),t._v(" "),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-6"},[a("h6",{staticClass:"text-muted mb-2"},[t._v("Información General")]),t._v(" "),t.matchday.date?a("p",{staticClass:"mb-1"},[a("i",{staticClass:"fas fa-calendar text-primary mr-2"}),t._v(" "),a("strong",[t._v("Fecha:")]),t._v(" "+t._s(t.formatDate(t.matchday.date,!1))+"\n                            ")]):t._e(),t._v(" "),t.matchday.venue?a("p",{staticClass:"mb-1"},[a("i",{staticClass:"fas fa-map-marker-alt text-primary mr-2"}),t._v(" "),a("strong",[t._v("Ubicación:")]),t._v(" "+t._s(t.matchday.venue)+"\n                            ")]):t._e(),t._v(" "),t.matchday.organizer_club?a("p",{staticClass:"mb-1"},[a("i",{staticClass:"fas fa-users text-primary mr-2"}),t._v(" "),a("strong",[t._v("Club Organizador:")]),t._v(" "+t._s(t.matchday.organizer_club.name)+"\n                            ")]):t._e(),t._v(" "),t.matchday.championship?a("p",{staticClass:"mb-0"},[a("i",{staticClass:"fas fa-trophy text-primary mr-2"}),t._v(" "),a("strong",[t._v("Campeonato:")]),t._v(" "),a("router-link",{attrs:{to:{name:"championships.show",params:{id:t.matchday.championship.id}}}},[t._v("\n                                    "+t._s(t.matchday.championship.name)+"\n                                ")])],1):t._e()]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("h6",{staticClass:"text-muted mb-2"},[t._v("Detalles de la Jornada")]),t._v(" "),t.matchday.number?a("p",{staticClass:"mb-1"},[a("i",{staticClass:"fas fa-hashtag text-success mr-2"}),t._v(" "),a("strong",[t._v("Número de Ronda:")]),t._v(" "+t._s(t.matchday.number)+"\n                            ")]):t._e(),t._v(" "),t.matchday.registration_deadline?a("p",{staticClass:"mb-1"},[a("i",{staticClass:"fas fa-clock text-warning mr-2"}),t._v(" "),a("strong",[t._v("Fecha límite inscripción:")]),t._v(" "+t._s(t.formatDate(t.matchday.registration_deadline))+"\n                            ")]):t._e(),t._v(" "),t.matchday.entry_fee?a("p",{staticClass:"mb-1"},[a("i",{staticClass:"fas fa-dollar-sign text-success mr-2"}),t._v(" "),a("strong",[t._v("Costo de inscripción:")]),t._v(" $"+t._s(t.matchday.entry_fee)+"\n                            ")]):t._e(),t._v(" "),a("p",{staticClass:"mb-0"},[a("i",{staticClass:"fas fa-users text-info mr-2"}),t._v(" "),a("strong",[t._v("Participantes:")]),t._v(" "+t._s(t.matchday.participants_count||0)+"\n                            ")])])]),t._v(" "),a("div",{staticClass:"row text-muted small"},[a("div",{staticClass:"col-md-6"},[a("p",{staticClass:"mb-1"},[a("i",{staticClass:"fas fa-plus-circle mr-1"}),t._v("\n                                Creada: "+t._s(t.formatDate(t.matchday.created_at))+"\n                            ")])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("p",{staticClass:"mb-1"},[a("i",{staticClass:"fas fa-edit mr-1"}),t._v("\n                                Última actualización: "+t._s(t.formatDate(t.matchday.updated_at))+"\n                            ")])])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card bg-light"},[t._m(2),t._v(" "),a("div",{staticClass:"card-body"},[a("dl",{staticClass:"row small"},[a("dt",{staticClass:"col-sm-5"},[t._v("Nombre:")]),t._v(" "),a("dd",{staticClass:"col-sm-7"},[t._v(t._s(t.matchday.name||"Jornada ".concat(t.matchday.number)))]),t._v(" "),a("dt",{staticClass:"col-sm-5"},[t._v("Fecha:")]),t._v(" "),a("dd",{staticClass:"col-sm-7"},[t._v(t._s(t.formatDate(t.matchday.date,!1)||"Por definir"))]),t._v(" "),a("dt",{staticClass:"col-sm-5"},[t._v("Estado:")]),t._v(" "),a("dd",{staticClass:"col-sm-7"},[a("span",{class:t.getStatusClass(t.matchday.status)},[t._v("\n                                        "+t._s(t.getStatusLabel(t.matchday.status))+"\n                                    ")])]),t._v(" "),a("dt",{staticClass:"col-sm-5"},[t._v("Participantes:")]),t._v(" "),a("dd",{staticClass:"col-sm-7"},[t._v(t._s(t.matchday.participants_count||0))])])])]),t._v(" "),t.canEdit?a("div",{staticClass:"card mt-3"},[t._m(3),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"d-grid gap-2"},[a("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"matchdays.edit",params:{id:t.matchdayId}}}},[a("i",{staticClass:"fas fa-edit mr-1"}),t._v("\n                                    Editar Jornada\n                                ")]),t._v(" "),a("router-link",{staticClass:"btn btn-outline-primary btn-sm",attrs:{to:{name:"matchdays",query:{championship:t.matchday.championship_id}}}},[a("i",{staticClass:"fas fa-list mr-1"}),t._v("\n                                    Ver Todas las Jornadas\n                                ")])],1)])]):t._e()])]),t._v(" "),t.matchday.participants&&t.matchday.participants.length>0?a("div",{staticClass:"mt-5"},[a("div",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[a("h5",{staticClass:"mb-0"},[a("i",{staticClass:"fas fa-users mr-2"}),t._v("\n                        Participantes por Categoría ("+t._s(t.matchday.participants.length)+")\n                    ")]),t._v(" "),t.canEdit?a("add-pilot-to-matchday",{attrs:{"matchday-id":t.matchdayId},on:{"pilot-added":t.onPilotAdded}}):t._e()],1),t._v(" "),a("div",{attrs:{id:"categoriesAccordion"}},t._l(t.categoriesData,function(r,n){return a("div",{key:"category-".concat(n),staticClass:"card mb-2"},[a("div",{staticClass:"card-header"},[a("h6",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link btn-block text-left",staticStyle:{"text-decoration":"none"},attrs:{type:"button"},on:{click:function(a){return t.toggleCategory(n)}}},[a("i",{staticClass:"fas fa-layer-group mr-2"}),t._v("\n                                    "+t._s(r.category)+"\n                                    "),a("span",{staticClass:"badge badge-primary ml-2"},[t._v(t._s(r.pilots.length))]),t._v(" "),a("i",{staticClass:"fas fa-chevron-down float-right mt-1",style:{transform:t.isCategoryExpanded(n)?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isCategoryExpanded(n),expression:"isCategoryExpanded(index)"}],staticClass:"card-body category-content"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-sm table-hover mb-0"},[t._m(4,!0),t._v(" "),a("tbody",t._l(r.pilots,function(r){var n,e,s,i,o,c,d;return a("tr",{key:r.id},[a("td",[null!==(n=r.pilot)&&void 0!==n&&n.photo?a("img",{staticClass:"rounded-circle",staticStyle:{width:"32px",height:"32px","object-fit":"cover"},attrs:{src:"/storage/"+r.pilot.photo,alt:"Foto de "+r.pilot.first_name+" "+r.pilot.last_name}}):a("div",{staticClass:"bg-secondary rounded-circle d-flex align-items-center justify-content-center",staticStyle:{width:"32px",height:"32px"}},[a("i",{staticClass:"fas fa-user text-white",staticStyle:{"font-size":"12px"}})])]),t._v(" "),a("td",[a("strong",[t._v(t._s(null===(e=r.pilot)||void 0===e?void 0:e.first_name)+" "+t._s(null===(s=r.pilot)||void 0===s?void 0:s.last_name))]),t._v(" "),a("br"),t._v(" "),a("small",{staticClass:"text-muted"},[t._v("ID: "+t._s(null===(i=r.pilot)||void 0===i?void 0:i.id))])]),t._v(" "),a("td",[null!==(o=r.pilot)&&void 0!==o&&o.club?a("span",[t._v("\n                                                    "+t._s(r.pilot.club.name)+"\n                                                ")]):a("span",{staticClass:"text-muted"},[t._v("Sin club")])]),t._v(" "),a("td",[t._v(t._s((null===(c=r.pilot)||void 0===c?void 0:c.age)||"N/A"))]),t._v(" "),a("td",[a("span",{class:t.getParticipantStatusClass(r.status)},[t._v("\n                                                    "+t._s(t.getParticipantStatusLabel(r.status))+"\n                                                ")])]),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-sm btn-outline-primary",attrs:{to:{name:"pilots.show",params:{id:null===(d=r.pilot)||void 0===d?void 0:d.id},query:{from:"matchday",matchdayId:t.matchdayId}},title:"Ver detalles del piloto"}},[a("i",{staticClass:"fas fa-eye"})])],1)])}),0)])]),t._v(" "),a("div",{staticClass:"mt-3 text-center"},[a("small",{staticClass:"text-muted"},[a("i",{staticClass:"fas fa-chart-bar mr-1"}),t._v("\n                                    "+t._s(r.stats.active)+" activos, \n                                    "+t._s(r.stats.inactive)+" inactivos, \n                                    "+t._s(r.stats.clubs)+" clubes representados\n                                ")])])])])}),0)]):t.loading?t._e():a("div",{staticClass:"mt-5"},[a("div",{staticClass:"text-center py-5"},[a("i",{staticClass:"fas fa-users-slash fa-3x text-muted mb-3"}),t._v(" "),a("h5",{staticClass:"text-muted"},[t._v("No hay participantes registrados")]),t._v(" "),a("p",{staticClass:"text-muted"},[t._v("Esta jornada aún no tiene pilotos inscritos.")]),t._v(" "),t.canEdit?a("div",{staticClass:"mt-3"},[a("add-pilot-to-matchday",{attrs:{"matchday-id":t.matchdayId},on:{"pilot-added":t.onPilotAdded}})],1):t._e()])])]):a("div",{staticClass:"card-body text-center"},[a("i",{staticClass:"fas fa-exclamation-triangle fa-3x text-warning mb-3"}),t._v(" "),a("h4",{staticClass:"text-muted"},[t._v("Jornada no encontrada")]),t._v(" "),a("p",{staticClass:"text-muted"},[t._v("La jornada que buscas no existe o ha sido eliminada.")]),t._v(" "),a("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"matchdays"}}},[a("i",{staticClass:"fas fa-arrow-left mr-1"}),t._v("\n                Volver a Jornadas\n            ")])],1)])])},[function(){var t=this._self._c;return t("h3",{staticClass:"card-title"},[t("i",{staticClass:"fas fa-calendar mr-2"}),this._v("\n                Detalle de la Jornada\n            ")])},function(){var t=this._self._c;return t("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[this._v("Cargando...")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("h6",{staticClass:"card-title mb-0"},[t("i",{staticClass:"fas fa-info-circle mr-1"}),this._v("\n                                Resumen de la Jornada\n                            ")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("h6",{staticClass:"card-title mb-0"},[t("i",{staticClass:"fas fa-tools mr-1"}),this._v("\n                                Acciones\n                            ")])])},function(){var t=this,a=t._self._c;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{width:"40"}}),t._v(" "),a("th",[t._v("Piloto")]),t._v(" "),a("th",[t._v("Club")]),t._v(" "),a("th",[t._v("Edad")]),t._v(" "),a("th",[t._v("Estado")]),t._v(" "),a("th",{attrs:{width:"100"}},[t._v("Acciones")])])])}],!1,null,"31fb93c2",null).exports}}]);
//# sourceMappingURL=239.js.map