/*! For license information please see 950.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[950],{4950:(r,n,t)=>{t.r(n),t.d(n,{default:()=>_});function a(r){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},a(r)}function e(){var r,n,t="function"==typeof Symbol?Symbol:{},a=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,a,e,o){var i=a&&a.prototype instanceof c?a:c,d=Object.create(i.prototype);return s(d,"_invoke",function(t,a,e){var s,o,i,c=0,d=e||[],v=!1,m={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(n,t){return s=n,o=0,i=r,m.n=t,l}};function p(t,a){for(o=t,i=a,n=0;!v&&c&&!e&&n<d.length;n++){var e,s=d[n],p=m.p,u=s[2];t>3?(e=u===a)&&(i=s[(o=s[4])?5:(o=3,3)],s[4]=s[5]=r):s[0]<=p&&((e=t<2&&p<s[1])?(o=0,m.v=a,m.n=s[1]):p<u&&(e=t<3||s[0]>a||a>u)&&(s[4]=t,s[5]=a,m.n=u,o=0))}if(e||t>1)return l;throw v=!0,a}return function(e,d,u){if(c>1)throw TypeError("Generator is already running");for(v&&1===d&&p(d,u),o=d,i=u;(n=o<2?r:i)||!v;){s||(o?o<3?(o>1&&(m.n=-1),p(o,i)):m.n=i:m.v=i);try{if(c=2,s){if(o||(e="next"),n=s[e]){if(!(n=n.call(s,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,o<2&&(o=0)}else 1===o&&(n=s.return)&&n.call(s),o<2&&(i=TypeError("The iterator does not provide a '"+e+"' method"),o=1);s=r}else if((n=(v=m.n<0)?i:t.call(a,m))!==l)break}catch(n){s=r,o=1,i=n}finally{c=1}}return{value:n,done:v}}}(t,e,o),!0),d}var l={};function c(){}function d(){}function v(){}n=Object.getPrototypeOf;var m=[][a]?n(n([][a]())):(s(n={},a,function(){return this}),n),p=v.prototype=c.prototype=Object.create(m);function u(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,v):(r.__proto__=v,s(r,o,"GeneratorFunction")),r.prototype=Object.create(p),r}return d.prototype=v,s(p,"constructor",v),s(v,"constructor",d),d.displayName="GeneratorFunction",s(v,o,"GeneratorFunction"),s(p),s(p,o,"Generator"),s(p,a,function(){return this}),s(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:i,m:u}})()}function s(r,n,t,a){var e=Object.defineProperty;try{e({},"",{})}catch(r){e=0}s=function(r,n,t,a){if(n)e?e(r,n,{value:t,enumerable:!a,configurable:!a,writable:!a}):r[n]=t;else{var o=function(n,t){s(r,n,function(r){return this._invoke(n,t,r)})};o("next",0),o("throw",1),o("return",2)}},s(r,n,t,a)}function o(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function i(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){l(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function l(r,n,t){return(n=function(r){var n=function(r,n){if("object"!=a(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var e=t.call(r,n||"default");if("object"!=a(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(r)}(r,"string");return"symbol"==a(n)?n:n+""}(n))in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function c(r,n,t,a,e,s,o){try{var i=r[s](o),l=i.value}catch(r){return void t(r)}i.done?n(l):Promise.resolve(l).then(a,e)}function d(r){return function(){var n=this,t=arguments;return new Promise(function(a,e){var s=r.apply(n,t);function o(r){c(s,a,e,o,i,"next",r)}function i(r){c(s,a,e,o,i,"throw",r)}o(void 0)})}}const v={name:"ChampionshipForm",data:function(){return{loading:!1,form:{name:"",description:"",year:(new Date).getFullYear(),season:"",type:"local",start_date:"",end_date:"",registration_start:"",registration_end:"",status:"draft",is_public:!0,allow_external_registration:!1},errors:{}}},computed:{isEditing:function(){return!!this.$route.params.id},championshipId:function(){return this.$route.params.id},availableYears:function(){for(var r=(new Date).getFullYear(),n=[],t=r+2;t>=r-10;t--)n.push(t);return n}},mounted:function(){this.isEditing&&this.loadChampionship()},methods:{loadChampionship:function(){var r=this;return d(e().m(function n(){var t,a,s;return e().w(function(n){for(;;)switch(n.n){case 0:return r.loading=!0,n.p=1,n.n=2,fetch("/api/championships/".concat(r.championshipId));case 2:if((t=n.v).ok){n.n=3;break}throw new Error("Error al cargar el campeonato");case 3:return n.n=4,t.json();case 4:a=n.v,r.form=i(i({},r.form),a),n.n=6;break;case 5:n.p=5,s=n.v,console.error("Error loading championship:",s),r.showNotification("Error al cargar el campeonato","error"),r.$router.push({name:"championships"});case 6:return n.p=6,r.loading=!1,n.f(6);case 7:return n.a(2)}},n,null,[[1,5,6,7]])}))()},submitForm:function(){var r=this;return d(e().m(function n(){var t,a,s,o,i;return e().w(function(n){for(;;)switch(n.n){case 0:return r.loading=!0,r.errors={},n.p=1,t=r.isEditing?"/api/championships/".concat(r.championshipId):"/api/championships",a=r.isEditing?"PUT":"POST",n.n=2,fetch(t,{method:a,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r.form)});case 2:return s=n.v,n.n=3,s.json();case 3:if(o=n.v,s.ok){n.n=4;break}throw o.errors&&(r.errors=o.errors),new Error(o.message||"Error al guardar el campeonato");case 4:r.showNotification(r.isEditing?"Campeonato actualizado exitosamente":"Campeonato creado exitosamente","success"),r.$router.push({name:"championships"}),n.n=6;break;case 5:n.p=5,i=n.v,console.error("Error saving championship:",i),r.showNotification(i.message||"Error al guardar el campeonato","error");case 6:return n.p=6,r.loading=!1,n.f(6);case 7:return n.a(2)}},n,null,[[1,5,6,7]])}))()},showNotification:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";console.log("".concat(n.toUpperCase(),": ").concat(r)),"error"===n&&alert("Error: "+r)}}};var m=t(5072),p=t.n(m),u=t(6513),f={insert:"head",singleton:!1};p()(u.A,f);u.A.locals;const _=(0,t(4486).A)(v,function(){var r=this,n=r._self._c;return n("div",{staticClass:"championship-form"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("h3",{staticClass:"card-title"},[n("i",{staticClass:"fas fa-trophy mr-2"}),r._v("\n                "+r._s(r.isEditing?"Editar Campeonato":"Crear Nuevo Campeonato")+"\n            ")]),r._v(" "),n("div",{staticClass:"card-tools"},[n("router-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:{name:"championships"}}},[n("i",{staticClass:"fas fa-arrow-left mr-1"}),r._v("\n                    Volver a Campeonatos\n                ")])],1)]),r._v(" "),n("div",{staticClass:"card-body"},[n("form",{on:{submit:function(n){return n.preventDefault(),r.submitForm.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-8"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"name"}},[r._v("Nombre del Campeonato *")]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":r.errors.name},attrs:{id:"name",type:"text",required:"",placeholder:"Ej: Campeonato Nacional BMX 2025"},domProps:{value:r.form.name},on:{input:function(n){n.target.composing||r.$set(r.form,"name",n.target.value)}}}),r._v(" "),r.errors.name?n("div",{staticClass:"invalid-feedback"},[r._v("\n                                "+r._s(r.errors.name[0])+"\n                            ")]):r._e()]),r._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"description"}},[r._v("Descripción")]),r._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:r.form.description,expression:"form.description"}],staticClass:"form-control",class:{"is-invalid":r.errors.description},attrs:{id:"description",rows:"4",placeholder:"Describe el campeonato, sus características y objetivos..."},domProps:{value:r.form.description},on:{input:function(n){n.target.composing||r.$set(r.form,"description",n.target.value)}}}),r._v(" "),r.errors.description?n("div",{staticClass:"invalid-feedback"},[r._v("\n                                "+r._s(r.errors.description[0])+"\n                            ")]):r._e()]),r._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"year"}},[r._v("Año *")]),r._v(" "),n("select",{directives:[{name:"model",rawName:"v-model.number",value:r.form.year,expression:"form.year",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":r.errors.year},attrs:{id:"year",required:""},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,function(r){return r.selected}).map(function(n){var t="_value"in n?n._value:n.value;return r._n(t)});r.$set(r.form,"year",n.target.multiple?t:t[0])}}},[n("option",{attrs:{value:""}},[r._v("Seleccionar año")]),r._v(" "),r._l(r.availableYears,function(t){return n("option",{key:t,domProps:{value:t}},[r._v("\n                                            "+r._s(t)+"\n                                        ")])})],2),r._v(" "),r.errors.year?n("div",{staticClass:"invalid-feedback"},[r._v("\n                                        "+r._s(r.errors.year[0])+"\n                                    ")]):r._e()])]),r._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"season"}},[r._v("Temporada")]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.form.season,expression:"form.season"}],staticClass:"form-control",class:{"is-invalid":r.errors.season},attrs:{id:"season",type:"text",placeholder:"Ej: Primavera, Verano, Anual"},domProps:{value:r.form.season},on:{input:function(n){n.target.composing||r.$set(r.form,"season",n.target.value)}}}),r._v(" "),r.errors.season?n("div",{staticClass:"invalid-feedback"},[r._v("\n                                        "+r._s(r.errors.season[0])+"\n                                    ")]):r._e()])]),r._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"type"}},[r._v("Tipo de Campeonato")]),r._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:r.form.type,expression:"form.type"}],staticClass:"form-control",class:{"is-invalid":r.errors.type},attrs:{id:"type"},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,function(r){return r.selected}).map(function(r){return"_value"in r?r._value:r.value});r.$set(r.form,"type",n.target.multiple?t:t[0])}}},[n("option",{attrs:{value:"local"}},[r._v("Local")]),r._v(" "),n("option",{attrs:{value:"regional"}},[r._v("Regional")]),r._v(" "),n("option",{attrs:{value:"national"}},[r._v("Nacional")]),r._v(" "),n("option",{attrs:{value:"international"}},[r._v("Internacional")])]),r._v(" "),r.errors.type?n("div",{staticClass:"invalid-feedback"},[r._v("\n                                        "+r._s(r.errors.type[0])+"\n                                    ")]):r._e()])])]),r._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"start_date"}},[r._v("Fecha de Inicio")]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.form.start_date,expression:"form.start_date"}],staticClass:"form-control",class:{"is-invalid":r.errors.start_date},attrs:{id:"start_date",type:"date"},domProps:{value:r.form.start_date},on:{input:function(n){n.target.composing||r.$set(r.form,"start_date",n.target.value)}}}),r._v(" "),r.errors.start_date?n("div",{staticClass:"invalid-feedback"},[r._v("\n                                        "+r._s(r.errors.start_date[0])+"\n                                    ")]):r._e()])]),r._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"end_date"}},[r._v("Fecha de Finalización")]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.form.end_date,expression:"form.end_date"}],staticClass:"form-control",class:{"is-invalid":r.errors.end_date},attrs:{id:"end_date",type:"date"},domProps:{value:r.form.end_date},on:{input:function(n){n.target.composing||r.$set(r.form,"end_date",n.target.value)}}}),r._v(" "),r.errors.end_date?n("div",{staticClass:"invalid-feedback"},[r._v("\n                                        "+r._s(r.errors.end_date[0])+"\n                                    ")]):r._e()])])]),r._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"registration_start"}},[r._v("Inicio de Inscripciones")]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.form.registration_start,expression:"form.registration_start"}],staticClass:"form-control",class:{"is-invalid":r.errors.registration_start},attrs:{id:"registration_start",type:"date"},domProps:{value:r.form.registration_start},on:{input:function(n){n.target.composing||r.$set(r.form,"registration_start",n.target.value)}}}),r._v(" "),r.errors.registration_start?n("div",{staticClass:"invalid-feedback"},[r._v("\n                                        "+r._s(r.errors.registration_start[0])+"\n                                    ")]):r._e()])]),r._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"registration_end"}},[r._v("Fin de Inscripciones")]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.form.registration_end,expression:"form.registration_end"}],staticClass:"form-control",class:{"is-invalid":r.errors.registration_end},attrs:{id:"registration_end",type:"date"},domProps:{value:r.form.registration_end},on:{input:function(n){n.target.composing||r.$set(r.form,"registration_end",n.target.value)}}}),r._v(" "),r.errors.registration_end?n("div",{staticClass:"invalid-feedback"},[r._v("\n                                        "+r._s(r.errors.registration_end[0])+"\n                                    ")]):r._e()])])]),r._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"status"}},[r._v("Estado")]),r._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:r.form.status,expression:"form.status"}],staticClass:"form-control",class:{"is-invalid":r.errors.status},attrs:{id:"status"},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,function(r){return r.selected}).map(function(r){return"_value"in r?r._value:r.value});r.$set(r.form,"status",n.target.multiple?t:t[0])}}},[n("option",{attrs:{value:"draft"}},[r._v("Borrador")]),r._v(" "),n("option",{attrs:{value:"planned"}},[r._v("Planificado")]),r._v(" "),n("option",{attrs:{value:"registration_open"}},[r._v("Inscripciones Abiertas")]),r._v(" "),n("option",{attrs:{value:"registration_closed"}},[r._v("Inscripciones Cerradas")]),r._v(" "),n("option",{attrs:{value:"active"}},[r._v("En Curso")]),r._v(" "),n("option",{attrs:{value:"completed"}},[r._v("Finalizado")]),r._v(" "),n("option",{attrs:{value:"cancelled"}},[r._v("Cancelado")])]),r._v(" "),r.errors.status?n("div",{staticClass:"invalid-feedback"},[r._v("\n                                "+r._s(r.errors.status[0])+"\n                            ")]):r._e()]),r._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:r.form.is_public,expression:"form.is_public"}],staticClass:"custom-control-input",attrs:{id:"is_public",type:"checkbox"},domProps:{checked:Array.isArray(r.form.is_public)?r._i(r.form.is_public,null)>-1:r.form.is_public},on:{change:function(n){var t=r.form.is_public,a=n.target,e=!!a.checked;if(Array.isArray(t)){var s=r._i(t,null);a.checked?s<0&&r.$set(r.form,"is_public",t.concat([null])):s>-1&&r.$set(r.form,"is_public",t.slice(0,s).concat(t.slice(s+1)))}else r.$set(r.form,"is_public",e)}}}),r._v(" "),n("label",{staticClass:"custom-control-label",attrs:{for:"is_public"}},[r._v("\n                                    Campeonato público\n                                ")])]),r._v(" "),n("small",{staticClass:"form-text text-muted"},[r._v("\n                                Los campeonatos públicos son visibles para todos los usuarios\n                            ")])]),r._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:r.form.allow_external_registration,expression:"form.allow_external_registration"}],staticClass:"custom-control-input",attrs:{id:"allow_external_registration",type:"checkbox"},domProps:{checked:Array.isArray(r.form.allow_external_registration)?r._i(r.form.allow_external_registration,null)>-1:r.form.allow_external_registration},on:{change:function(n){var t=r.form.allow_external_registration,a=n.target,e=!!a.checked;if(Array.isArray(t)){var s=r._i(t,null);a.checked?s<0&&r.$set(r.form,"allow_external_registration",t.concat([null])):s>-1&&r.$set(r.form,"allow_external_registration",t.slice(0,s).concat(t.slice(s+1)))}else r.$set(r.form,"allow_external_registration",e)}}}),r._v(" "),n("label",{staticClass:"custom-control-label",attrs:{for:"allow_external_registration"}},[r._v("\n                                    Permitir inscripción externa\n                                ")])]),r._v(" "),n("small",{staticClass:"form-text text-muted"},[r._v("\n                                Permite que pilotos no registrados se inscriban directamente\n                            ")])])]),r._v(" "),r._m(0)])])]),r._v(" "),n("div",{staticClass:"card-footer"},[n("div",{staticClass:"d-flex justify-content-between"},[n("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"championships"}}},[n("i",{staticClass:"fas fa-times mr-1"}),r._v("\n                    Cancelar\n                ")]),r._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:r.loading},on:{click:r.submitForm}},[r.loading?n("i",{staticClass:"fas fa-spinner fa-spin mr-1"}):n("i",{staticClass:"fas fa-save mr-1"}),r._v("\n                    "+r._s(r.isEditing?"Actualizar Campeonato":"Crear Campeonato")+"\n                ")])],1)])])])},[function(){var r=this,n=r._self._c;return n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"card bg-light"},[n("div",{staticClass:"card-header"},[n("h6",{staticClass:"card-title mb-0"},[n("i",{staticClass:"fas fa-info-circle mr-1"}),r._v("\n                                    Estados del Campeonato\n                                ")])]),r._v(" "),n("div",{staticClass:"card-body"},[n("dl",{staticClass:"row small"},[n("dt",{staticClass:"col-5"},[r._v("Borrador:")]),r._v(" "),n("dd",{staticClass:"col-7"},[r._v("En preparación")]),r._v(" "),n("dt",{staticClass:"col-5"},[r._v("Planificado:")]),r._v(" "),n("dd",{staticClass:"col-7"},[r._v("Listo, pero sin inscripciones")]),r._v(" "),n("dt",{staticClass:"col-5"},[r._v("Inscripciones Abiertas:")]),r._v(" "),n("dd",{staticClass:"col-7"},[r._v("Aceptando participantes")]),r._v(" "),n("dt",{staticClass:"col-5"},[r._v("Inscripciones Cerradas:")]),r._v(" "),n("dd",{staticClass:"col-7"},[r._v("Sin nuevas inscripciones")]),r._v(" "),n("dt",{staticClass:"col-5"},[r._v("En Curso:")]),r._v(" "),n("dd",{staticClass:"col-7"},[r._v("Campeonato activo")]),r._v(" "),n("dt",{staticClass:"col-5"},[r._v("Finalizado:")]),r._v(" "),n("dd",{staticClass:"col-7"},[r._v("Campeonato completado")]),r._v(" "),n("dt",{staticClass:"col-5"},[r._v("Cancelado:")]),r._v(" "),n("dd",{staticClass:"col-7"},[r._v("Suspendido definitivamente")])])])]),r._v(" "),n("div",{staticClass:"card bg-light mt-3"},[n("div",{staticClass:"card-header"},[n("h6",{staticClass:"card-title mb-0"},[n("i",{staticClass:"fas fa-lightbulb mr-1"}),r._v("\n                                    Consejos\n                                ")])]),r._v(" "),n("div",{staticClass:"card-body"},[n("ul",{staticClass:"list-unstyled small text-muted"},[n("li",[r._v("• Define fechas claras y realistas")]),r._v(" "),n("li",[r._v("• Configura el período de inscripciones adecuadamente")]),r._v(" "),n("li",[r._v("• Usa un nombre descriptivo y único")]),r._v(" "),n("li",[r._v("• La descripción ayuda a los participantes")]),r._v(" "),n("li",[r._v("• Revisa el estado según el momento del campeonato")])])])])])}],!1,null,"5e4b24f4",null).exports},6513:(r,n,t)=>{t.d(n,{A:()=>i});var a=t(4991),e=t.n(a),s=t(6314),o=t.n(s)()(e());o.push([r.id,".championship-form[data-v-5e4b24f4]{margin:0 auto;max-width:1000px}.form-group label[data-v-5e4b24f4]{color:#495057;font-weight:600}.invalid-feedback[data-v-5e4b24f4]{display:block}.card-header h6[data-v-5e4b24f4],.custom-control-label[data-v-5e4b24f4]{font-weight:600}.list-unstyled li[data-v-5e4b24f4]{margin-bottom:.25rem}.small[data-v-5e4b24f4]{font-size:.875rem}","",{version:3,sources:["webpack://./resources/js/components/forms/ChampionshipForm.vue"],names:[],mappings:"AAyaA,oCAEA,aAAA,CADA,gBAEA,CAEA,mCAEA,aAAA,CADA,eAEA,CAEA,mCACA,aACA,CAMA,wEACA,eACA,CAEA,mCACA,oBACA,CAEA,wBACA,iBACA",sourcesContent:['<template>\r\n    <div class="championship-form">\r\n        <div class="card">\r\n            <div class="card-header">\r\n                <h3 class="card-title">\r\n                    <i class="fas fa-trophy mr-2"></i>\r\n                    {{ isEditing ? \'Editar Campeonato\' : \'Crear Nuevo Campeonato\' }}\r\n                </h3>\r\n                <div class="card-tools">\r\n                    <router-link :to="{ name: \'championships\' }" class="btn btn-outline-secondary btn-sm">\r\n                        <i class="fas fa-arrow-left mr-1"></i>\r\n                        Volver a Campeonatos\r\n                    </router-link>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="card-body">\r\n                <form @submit.prevent="submitForm">\r\n                    <div class="row">\r\n                        <div class="col-md-8">\r\n                            <div class="form-group">\r\n                                <label for="name">Nombre del Campeonato *</label>\r\n                                <input \r\n                                    id="name"\r\n                                    v-model="form.name" \r\n                                    type="text" \r\n                                    class="form-control"\r\n                                    :class="{ \'is-invalid\': errors.name }"\r\n                                    required\r\n                                    placeholder="Ej: Campeonato Nacional BMX 2025"\r\n                                >\r\n                                <div v-if="errors.name" class="invalid-feedback">\r\n                                    {{ errors.name[0] }}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="form-group">\r\n                                <label for="description">Descripción</label>\r\n                                <textarea \r\n                                    id="description"\r\n                                    v-model="form.description"\r\n                                    class="form-control"\r\n                                    rows="4"\r\n                                    :class="{ \'is-invalid\': errors.description }"\r\n                                    placeholder="Describe el campeonato, sus características y objetivos..."\r\n                                ></textarea>\r\n                                <div v-if="errors.description" class="invalid-feedback">\r\n                                    {{ errors.description[0] }}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="row">\r\n                                <div class="col-md-4">\r\n                                    <div class="form-group">\r\n                                        <label for="year">Año *</label>\r\n                                        <select \r\n                                            id="year"\r\n                                            v-model.number="form.year" \r\n                                            class="form-control"\r\n                                            :class="{ \'is-invalid\': errors.year }"\r\n                                            required\r\n                                        >\r\n                                            <option value="">Seleccionar año</option>\r\n                                            <option v-for="year in availableYears" :key="year" :value="year">\r\n                                                {{ year }}\r\n                                            </option>\r\n                                        </select>\r\n                                        <div v-if="errors.year" class="invalid-feedback">\r\n                                            {{ errors.year[0] }}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="form-group">\r\n                                        <label for="season">Temporada</label>\r\n                                        <input \r\n                                            id="season"\r\n                                            v-model="form.season" \r\n                                            type="text" \r\n                                            class="form-control"\r\n                                            :class="{ \'is-invalid\': errors.season }"\r\n                                            placeholder="Ej: Primavera, Verano, Anual"\r\n                                        >\r\n                                        <div v-if="errors.season" class="invalid-feedback">\r\n                                            {{ errors.season[0] }}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="form-group">\r\n                                        <label for="type">Tipo de Campeonato</label>\r\n                                        <select \r\n                                            id="type"\r\n                                            v-model="form.type" \r\n                                            class="form-control"\r\n                                            :class="{ \'is-invalid\': errors.type }"\r\n                                        >\r\n                                            <option value="local">Local</option>\r\n                                            <option value="regional">Regional</option>\r\n                                            <option value="national">Nacional</option>\r\n                                            <option value="international">Internacional</option>\r\n                                        </select>\r\n                                        <div v-if="errors.type" class="invalid-feedback">\r\n                                            {{ errors.type[0] }}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="row">\r\n                                <div class="col-md-6">\r\n                                    <div class="form-group">\r\n                                        <label for="start_date">Fecha de Inicio</label>\r\n                                        <input \r\n                                            id="start_date"\r\n                                            v-model="form.start_date" \r\n                                            type="date" \r\n                                            class="form-control"\r\n                                            :class="{ \'is-invalid\': errors.start_date }"\r\n                                        >\r\n                                        <div v-if="errors.start_date" class="invalid-feedback">\r\n                                            {{ errors.start_date[0] }}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-6">\r\n                                    <div class="form-group">\r\n                                        <label for="end_date">Fecha de Finalización</label>\r\n                                        <input \r\n                                            id="end_date"\r\n                                            v-model="form.end_date" \r\n                                            type="date" \r\n                                            class="form-control"\r\n                                            :class="{ \'is-invalid\': errors.end_date }"\r\n                                        >\r\n                                        <div v-if="errors.end_date" class="invalid-feedback">\r\n                                            {{ errors.end_date[0] }}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="row">\r\n                                <div class="col-md-6">\r\n                                    <div class="form-group">\r\n                                        <label for="registration_start">Inicio de Inscripciones</label>\r\n                                        <input \r\n                                            id="registration_start"\r\n                                            v-model="form.registration_start" \r\n                                            type="date" \r\n                                            class="form-control"\r\n                                            :class="{ \'is-invalid\': errors.registration_start }"\r\n                                        >\r\n                                        <div v-if="errors.registration_start" class="invalid-feedback">\r\n                                            {{ errors.registration_start[0] }}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-6">\r\n                                    <div class="form-group">\r\n                                        <label for="registration_end">Fin de Inscripciones</label>\r\n                                        <input \r\n                                            id="registration_end"\r\n                                            v-model="form.registration_end" \r\n                                            type="date" \r\n                                            class="form-control"\r\n                                            :class="{ \'is-invalid\': errors.registration_end }"\r\n                                        >\r\n                                        <div v-if="errors.registration_end" class="invalid-feedback">\r\n                                            {{ errors.registration_end[0] }}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="form-group">\r\n                                <label for="status">Estado</label>\r\n                                <select \r\n                                    id="status"\r\n                                    v-model="form.status" \r\n                                    class="form-control"\r\n                                    :class="{ \'is-invalid\': errors.status }"\r\n                                >\r\n                                    <option value="draft">Borrador</option>\r\n                                    <option value="planned">Planificado</option>\r\n                                    <option value="registration_open">Inscripciones Abiertas</option>\r\n                                    <option value="registration_closed">Inscripciones Cerradas</option>\r\n                                    <option value="active">En Curso</option>\r\n                                    <option value="completed">Finalizado</option>\r\n                                    <option value="cancelled">Cancelado</option>\r\n                                </select>\r\n                                <div v-if="errors.status" class="invalid-feedback">\r\n                                    {{ errors.status[0] }}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="form-group">\r\n                                <div class="custom-control custom-checkbox">\r\n                                    <input \r\n                                        id="is_public"\r\n                                        v-model="form.is_public"\r\n                                        type="checkbox"\r\n                                        class="custom-control-input"\r\n                                    >\r\n                                    <label class="custom-control-label" for="is_public">\r\n                                        Campeonato público\r\n                                    </label>\r\n                                </div>\r\n                                <small class="form-text text-muted">\r\n                                    Los campeonatos públicos son visibles para todos los usuarios\r\n                                </small>\r\n                            </div>\r\n\r\n                            <div class="form-group">\r\n                                <div class="custom-control custom-checkbox">\r\n                                    <input \r\n                                        id="allow_external_registration"\r\n                                        v-model="form.allow_external_registration"\r\n                                        type="checkbox"\r\n                                        class="custom-control-input"\r\n                                    >\r\n                                    <label class="custom-control-label" for="allow_external_registration">\r\n                                        Permitir inscripción externa\r\n                                    </label>\r\n                                </div>\r\n                                <small class="form-text text-muted">\r\n                                    Permite que pilotos no registrados se inscriban directamente\r\n                                </small>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="col-md-4">\r\n                            <div class="card bg-light">\r\n                                <div class="card-header">\r\n                                    <h6 class="card-title mb-0">\r\n                                        <i class="fas fa-info-circle mr-1"></i>\r\n                                        Estados del Campeonato\r\n                                    </h6>\r\n                                </div>\r\n                                <div class="card-body">\r\n                                    <dl class="row small">\r\n                                        <dt class="col-5">Borrador:</dt>\r\n                                        <dd class="col-7">En preparación</dd>\r\n                                        \r\n                                        <dt class="col-5">Planificado:</dt>\r\n                                        <dd class="col-7">Listo, pero sin inscripciones</dd>\r\n                                        \r\n                                        <dt class="col-5">Inscripciones Abiertas:</dt>\r\n                                        <dd class="col-7">Aceptando participantes</dd>\r\n                                        \r\n                                        <dt class="col-5">Inscripciones Cerradas:</dt>\r\n                                        <dd class="col-7">Sin nuevas inscripciones</dd>\r\n                                        \r\n                                        <dt class="col-5">En Curso:</dt>\r\n                                        <dd class="col-7">Campeonato activo</dd>\r\n                                        \r\n                                        <dt class="col-5">Finalizado:</dt>\r\n                                        <dd class="col-7">Campeonato completado</dd>\r\n                                        \r\n                                        <dt class="col-5">Cancelado:</dt>\r\n                                        <dd class="col-7">Suspendido definitivamente</dd>\r\n                                    </dl>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="card bg-light mt-3">\r\n                                <div class="card-header">\r\n                                    <h6 class="card-title mb-0">\r\n                                        <i class="fas fa-lightbulb mr-1"></i>\r\n                                        Consejos\r\n                                    </h6>\r\n                                </div>\r\n                                <div class="card-body">\r\n                                    <ul class="list-unstyled small text-muted">\r\n                                        <li>• Define fechas claras y realistas</li>\r\n                                        <li>• Configura el período de inscripciones adecuadamente</li>\r\n                                        <li>• Usa un nombre descriptivo y único</li>\r\n                                        <li>• La descripción ayuda a los participantes</li>\r\n                                        <li>• Revisa el estado según el momento del campeonato</li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            <div class="card-footer">\r\n                <div class="d-flex justify-content-between">\r\n                    <router-link :to="{ name: \'championships\' }" class="btn btn-secondary">\r\n                        <i class="fas fa-times mr-1"></i>\r\n                        Cancelar\r\n                    </router-link>\r\n                    <button \r\n                        type="submit" \r\n                        @click="submitForm"\r\n                        :disabled="loading" \r\n                        class="btn btn-primary"\r\n                    >\r\n                        <i v-if="loading" class="fas fa-spinner fa-spin mr-1"></i>\r\n                        <i v-else class="fas fa-save mr-1"></i>\r\n                        {{ isEditing ? \'Actualizar Campeonato\' : \'Crear Campeonato\' }}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \'ChampionshipForm\',\r\n    data() {\r\n        return {\r\n            loading: false,\r\n            form: {\r\n                name: \'\',\r\n                description: \'\',\r\n                year: new Date().getFullYear(),\r\n                season: \'\',\r\n                type: \'local\',\r\n                start_date: \'\',\r\n                end_date: \'\',\r\n                registration_start: \'\',\r\n                registration_end: \'\',\r\n                status: \'draft\',\r\n                is_public: true,\r\n                allow_external_registration: false\r\n            },\r\n            errors: {}\r\n        };\r\n    },\r\n    computed: {\r\n        isEditing() {\r\n            return !!this.$route.params.id;\r\n        },\r\n        championshipId() {\r\n            return this.$route.params.id;\r\n        },\r\n        availableYears() {\r\n            const currentYear = new Date().getFullYear();\r\n            const years = [];\r\n            for (let year = currentYear + 2; year >= currentYear - 10; year--) {\r\n                years.push(year);\r\n            }\r\n            return years;\r\n        }\r\n    },\r\n    mounted() {\r\n        if (this.isEditing) {\r\n            this.loadChampionship();\r\n        }\r\n    },\r\n    methods: {\r\n        async loadChampionship() {\r\n            this.loading = true;\r\n            try {\r\n                const response = await fetch(`/api/championships/${this.championshipId}`);\r\n                if (!response.ok) {\r\n                    throw new Error(\'Error al cargar el campeonato\');\r\n                }\r\n                const data = await response.json();\r\n                this.form = { ...this.form, ...data };\r\n            } catch (error) {\r\n                console.error(\'Error loading championship:\', error);\r\n                this.showNotification(\'Error al cargar el campeonato\', \'error\');\r\n                this.$router.push({ name: \'championships\' });\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        },\r\n\r\n        async submitForm() {\r\n            this.loading = true;\r\n            this.errors = {};\r\n\r\n            try {\r\n                const url = this.isEditing ? `/api/championships/${this.championshipId}` : \'/api/championships\';\r\n                const method = this.isEditing ? \'PUT\' : \'POST\';\r\n\r\n                const response = await fetch(url, {\r\n                    method: method,\r\n                    headers: {\r\n                        \'X-CSRF-TOKEN\': document.querySelector(\'meta[name="csrf-token"]\').getAttribute(\'content\'),\r\n                        \'Content-Type\': \'application/json\',\r\n                        \'Accept\': \'application/json\'\r\n                    },\r\n                    body: JSON.stringify(this.form)\r\n                });\r\n\r\n                const data = await response.json();\r\n\r\n                if (!response.ok) {\r\n                    if (data.errors) {\r\n                        this.errors = data.errors;\r\n                    }\r\n                    throw new Error(data.message || \'Error al guardar el campeonato\');\r\n                }\r\n\r\n                this.showNotification(\r\n                    this.isEditing ? \'Campeonato actualizado exitosamente\' : \'Campeonato creado exitosamente\',\r\n                    \'success\'\r\n                );\r\n                \r\n                this.$router.push({ name: \'championships\' });\r\n\r\n            } catch (error) {\r\n                console.error(\'Error saving championship:\', error);\r\n                this.showNotification(error.message || \'Error al guardar el campeonato\', \'error\');\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        },\r\n\r\n        showNotification(message, type = \'info\') {\r\n            console.log(`${type.toUpperCase()}: ${message}`);\r\n            if (type === \'error\') {\r\n                alert(\'Error: \' + message);\r\n            }\r\n        }\r\n    }\r\n};\r\n<\/script>\r\n\r\n<style scoped>\r\n.championship-form {\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.form-group label {\r\n    font-weight: 600;\r\n    color: #495057;\r\n}\r\n\r\n.invalid-feedback {\r\n    display: block;\r\n}\r\n\r\n.custom-control-label {\r\n    font-weight: 600;\r\n}\r\n\r\n.card-header h6 {\r\n    font-weight: 600;\r\n}\r\n\r\n.list-unstyled li {\r\n    margin-bottom: 0.25rem;\r\n}\r\n\r\n.small {\r\n    font-size: 0.875rem;\r\n}\r\n</style>\r\n'],sourceRoot:""}]);const i=o}}]);
//# sourceMappingURL=950.js.map